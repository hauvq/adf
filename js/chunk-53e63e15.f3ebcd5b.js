(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-53e63e15"],{"0075":function(t,e,r){},"029f":function(t,e,r){},"0a19":function(t,e,r){"use strict";var s=r("0075"),a=r.n(s);a.a},"0dfa":function(t,e,r){"use strict";var s=r("7e01"),a=r.n(s);a.a},"0ec6":function(t,e,r){},"1d3c":function(t,e,r){},"1f10":function(t,e,r){},"27b2":function(t,e,r){"use strict";r("8e6e"),r("ac6a"),r("456d"),r("7f7f");var s=r("bd86"),a=r("2f62");function n(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,s)}return r}function o(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?n(r,!0).forEach(function(e){Object(s["a"])(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n(r).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}e["a"]={name:"getPathData",methods:o({},Object(a["b"])(["setCurrentStoreId"]),{setStore:function(t){"ViewDeals"===this.$router.history.current.name?this.setCurrentStoreId(null):this.setCurrentStoreId(+t)}}),mounted:function(){var t=this.setStore,e=this.id;t(e)},watch:{id:function(t,e){e!==t&&this.setStore(t)}},destroyed:function(){this.setCurrentStoreId(void 0)}}},"396a":function(t,e){t.exports=function(t){t.options.__i18n=t.options.__i18n||[],t.options.__i18n.push('{"is":{"fetching":"Sæki pöntun","sameAsLast":"Sama og síðast","orderAdded":"Pöntun bætt í körfu!","noPastOrders":"Þú hefur ekki pantað héðan áður. Nú er tækifærið!","pleaseLogin":"Þú er ekki skráð/ur inn. Smelltu hér til að skrá þig inn og sjá eldri pantanir."},"en":{"fetching":"Fetching order","sameAsLast":"Same as last time","orderAdded":"Order added to cart!","noPastOrders":"You have not ordered from here before. Now is your chance!","pleaseLogin":"You are not logged in. Please click here to log in and see your past orders."}}'),delete t.options._Ctor}},"3fb3":function(t,e,r){"use strict";var s=r("8208"),a=r.n(s);a.a},"5da7":function(t,e,r){},6391:function(t,e,r){"use strict";var s=r("d845"),a=r.n(s);a.a},7855:function(t,e,r){"use strict";var s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.isLoading?t._e():r("div",{class:["my-product-same-as-last",t.usingBtnStyle&&"my-product-same-as-last--btns",t.sameAsLastFirst&&"my-product-same-as-last--same-as-last-first"]},[t.showMyProduct?r("div",{staticClass:"noselect my-products my-product-same-as-last__item",on:{click:t.onMyProductClick}},[r("input",{staticClass:"my-products__input",attrs:{type:"checkbox"},domProps:{checked:t.isMyProductsFiltered}}),r("span",{staticClass:"my-products__label"},[t._v(t._s(t.$t("myProducts")))])]):t._e(),t.showSameAsLast?r("SameAsLast",{staticClass:"same-as-last--no-btn my-product-same-as-last__item",attrs:{storeId:t.storeId}}):t._e()],1)},a=[],n=(r("c5f6"),function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"same-as-last"},[r("base-button",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.hidePopup,expression:"hidePopup"}],staticClass:"same-as-last__btn primary",nativeOn:{click:function(e){return t.togglePopup(e)}}},[t.isPending?r("span",{staticClass:"pending-text"},[t._v(t._s(t.$t("fetching"))+"...")]):r("span",{staticClass:"same-as-last__title"},[r("i",{staticClass:"icon icon--time"}),r("span",[t._v(t._s(t.$t("sameAsLast")))]),r("i",{staticClass:"arrow-down"})])]),t.isPopupOpen?r("div",{staticClass:"popup"},[t.pastOrders.length?t._l(t.pastOrders,function(e){var s=e.id,a=e.date,n=e.amount;return r("div",{key:a,staticClass:"order",on:{click:function(e){return t.placeReorder(s)}}},[r("span",{staticClass:"order-date"},[t._v(t._s(a))]),r("span",{staticClass:"order-amount"},[t._v(t._s(t._f("formatISK")(n)))])])}):r("div",{class:[(!t.isLoggedIn||!t.pastOrders.length)&&"popup__not-logged-in"]},[t.isLoggedIn?r("span",{staticClass:"no-orders"},[t._v(t._s(t.$t("noPastOrders")))]):r("span",{staticClass:"order",on:{click:function(e){return t.$store.dispatch("toggleLogin")}}},[t._v(t._s(t.$t("pleaseLogin")))])])],2):t._e()],1)}),o=[],i=(r("8e6e"),r("456d"),r("768b")),c=(r("ffc1"),r("ac6a"),r("8615"),r("96cf"),r("3b8d")),u=r("bd86"),d=r("e67d"),l=r.n(d),p=r("bc3a"),f=r.n(p),h=r("2f62"),g=r("82ea");function m(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,s)}return r}function y(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?m(r,!0).forEach(function(e){Object(u["a"])(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):m(r).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var _={name:"SameAsLast",components:{BaseButton:g["a"]},props:{storeId:Number},data:function(){return{isPopupOpen:!1,pastOrders:[],isPending:!1}},computed:y({},Object(h["c"])(["getNettoIdByURL"]),{isLoggedIn:function(){return this.$store.state.customer.is_logged_in}}),methods:y({},Object(h["b"])(["getStoreIdURLMap"]),{togglePopup:function(){this.isPopupOpen=!this.isPopupOpen},hidePopup:function(){this.isPopupOpen=!1},placeReorder:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(e){var r,s,a,n,o,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return r=this.$route.params.storeUrl,t.next=3,this.getStoreIdURLMap();case 3:return s=this.getNettoIdByURL(r),this.isPending=!0,t.next=7,f.a.put("/api/rest/cart",{reorder:{super_product:s,corder_id:e}});case 7:a=t.sent,n=a.data,o=n.status,i=n.message,this.isPending=!1,"success"===o?(this.$store.dispatch("loadCart"),this.$store.dispatch("notification",{type:"success",message:this.$t("orderAdded")})):this.$store.dispatch("notification",{type:"error",message:i});case 13:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),parseSuborders:function(t){return Object.values(Object.values(t)[0].items)},fetchPastOrders:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(){var e,r,s=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,f.a.get("/api/rest/cart/past_orders/".concat(this.storeId));case 2:e=t.sent,r=e.data,this.pastOrders=Object.entries(r[0].past_orders).map(function(t){var e=Object(i["a"])(t,2),r=e[0],a=e[1],n=a.order_on,o=a.sub_orders,c=new Date(n),u=c.toLocaleDateString("en-GB"),d=s.parseSuborders(o).map(function(t){return+t}).reduce(function(t,e){return t+e});return{id:r,date:u,amount:d}});case 5:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),handleTouchOutside:function(){if(this.isPopupOpen)return this.hidePopup()}}),directives:{ClickOutside:l.a},watch:{isLoggedIn:function(t){t&&this.fetchPastOrders()},storeId:function(){this.isLoggedIn&&this.fetchPastOrders()}},mounted:function(){this.isLoggedIn&&this.fetchPastOrders(),window.addEventListener("touchmove",this.handleTouchOutside)},beforeDestroy:function(){window.removeEventListener("touchmove",this.handleTouchOutside)}},b=_,v=(r("f754"),r("2877")),O=r("e4c8"),P=Object(v["a"])(b,n,o,!1,null,"ea01b994",null);"function"===typeof O["default"]&&Object(O["default"])(P);var C=P.exports,w={name:"MyProductAndSameAsLastBtns",components:{SameAsLast:C},props:{usingBtnStyle:Boolean,onMyProductClick:{type:Function,default:function(){}},storeId:Number,sameAsLastFirst:Boolean,merchant:Object,isMyProductsFiltered:{type:Boolean,default:!1}},computed:{isLoading:function(){return!this.merchant},showMyProduct:function(){return 1===this.merchant.favorite_customer_products},showSameAsLast:function(){return!this.merchant.hide_same_as_last}}},j=w,S=(r("0a19"),Object(v["a"])(j,s,a,!1,null,"419c8546",null));e["a"]=S.exports},"7a67":function(t,e,r){},"7a87":function(t,e,r){"use strict";var s=r("5da7"),a=r.n(s);a.a},"7e01":function(t,e,r){},8208:function(t,e,r){},"9fae":function(t,e,r){"use strict";var s=r("1d3c"),a=r.n(s);a.a},a14d:function(t,e,r){"use strict";var s=r("1f10"),a=r.n(s);a.a},ab5a:function(t,e,r){"use strict";var s=r("029f"),a=r.n(s);a.a},c2c4:function(t,e,r){"use strict";var s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{class:["filter-and-options__option-container",t.isShowMorePopupVisible&&"filter-and-options__option-container--show"],on:{click:t.toggleShowMorePopup}},[r("div",{staticClass:"filter-and-options__options",on:{click:function(t){t.stopPropagation()}}},[t._t("default")],2)])},a=[],n=(r("8e6e"),r("ac6a"),r("456d"),r("bd86")),o=r("2f62"),i=r("935a");function c(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,s)}return r}function u(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?c(r,!0).forEach(function(e){Object(n["a"])(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c(r).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var d={name:"MyProductPopupWrapper",computed:u({},Object(o["c"])(["getModalVisibilityState"]),{isShowMorePopupVisible:function(){return this.getModalVisibilityState(i["i"])}}),methods:u({},Object(o["b"])(["toggleModal"]),{toggleShowMorePopup:function(){this.toggleModal({modalKey:i["i"]})}})},l=d,p=(r("3fb3"),r("2877")),f=Object(p["a"])(l,s,a,!1,null,"3eb923f8",null);e["a"]=f.exports},c6c1:function(t,e,r){"use strict";var s=r("0ec6"),a=r.n(s);a.a},d845:function(t,e,r){},e15a:function(t,e,r){"use strict";r.r(e);var s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("ProductModal"),r("div",{staticClass:"header-img"},[r("span",{staticClass:"hero-text"},[t._v(t._s(t.storeName))])]),r("section",{staticClass:"container"},[r("div",[r("DeliveryBarWrapper",[r("div",{staticClass:"delivery-bar-wrapper__left-group"},[r("DeliveryCurrAddressContainer",{attrs:{sellerType:t.SELLER_TYPES.GROCERY,customText:t.currentAddress,supportPickupShipment:t.supportPickupShipment,storeName:t.storeName,viewName:"ViewGroceries"}})],1),r("MyProductPopupWrapper",{staticClass:"my-product_same-as-last-container"},[r("MyProductAndSameAsLastBtns",{attrs:{onMyProductClick:t.handleMyProductClick,merchant:t.merchant,storeId:t.id}})],1)],1),r("MyProductAndSameAsLastBtns",{staticClass:"view-groceries__md-product-same-as-last show--below-md",attrs:{onMyProductClick:t.handleMyProductClick,merchant:t.merchant,storeId:t.id,usingBtnStyle:"",sameAsLastFirst:""}}),t.id?r("GroceryProducts",{attrs:{id:+t.id,storeName:t.storeName}}):t._e()],1)])],1)},a=[],n=(r("8e6e"),r("ac6a"),r("456d"),r("a481"),r("96cf"),r("3b8d")),o=(r("7f7f"),r("bd86")),i=r("2f62"),c=r("1503"),u=r("f23c"),d=r("27b2"),l={name:"showHideModal",data:function(){return{isModalVisible:!1}},methods:{showModal:function(){this.isModalVisible=!0},hideModal:function(){this.isModalVisible=!1}}},p=r("b773"),f=r("c2c4"),h=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("BaseModal",{staticClass:"product-modal",attrs:{isVisible:t.isProductModalVisible,centeredTitle:!0,noFooter:!0,size:"lg"},on:{hide:t.hideProductModal}},[r("div",{staticClass:"product-modal__content"},[r("div",{staticClass:"row"},[t.cloudinaryImgURL?r("div",{staticClass:"col-md-6 product-modal__product-img-wapper"},[r("img",{staticClass:"product-modal__product-img",attrs:{src:t.cloudinaryImgURL,alt:t.payload.name}})]):t._e(),r("div",{class:"col-md-"+(t.cloudinaryImgURL?"6":"12")},[r("h4",{staticClass:"product-modal__product-name"},[t._v(t._s(t.payload.name))]),r("div",{staticClass:"product-modal__product-price-container"},[t.payload.calc_special_price?r("span",{staticClass:"product-modal__special-price"},[t._v(t._s(t._f("formatISK")(t.payload.calc_special_price)))]):t._e(),r("span",{staticClass:"product-modal__price"},[t._v(t._s(t._f("formatISK")(t.payload.calc_price)))])]),r("div",{staticClass:"product-modal__unit"},[t._v(t._s(t.payload.unit_text))]),t.payload.ingredients?r("div",{staticClass:"product-modal__ingredients"},[r("strong",[t._v(t._s(t.$t("ingredients"))+":")]),t._v(" \n          "),r("span",[t._v(t._s(t.payload.ingredients))])]):t._e(),r("div",{class:["product-modal__notification-bar",!t.payload.inCartQty&&"visibility-hidden"]},[r("i",{staticClass:"icon icon--check-fill"}),r("span",{staticClass:"product-modal__notification-message"},[t._v(t._s(t.payload.inCartQty)+" item is already in your cart")])]),r("AddToCartRepresentation",{attrs:{price:t.payload.calc_price,quantity:t.tempQuantity,updateQuantity:t.updateQuantity,submitAddCart:t.submitAddCart,inCartQty:t.payload.inCartQty}})],1)])])])},g=[],m=r("c1ec"),y=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"add-to-card-with-quantity-control"},[r("QuantityControl",{staticClass:"add-to-card__quantity-control",attrs:{updateQuantity:t.updateQuantity,quantity:t.quantity,min:1}}),r("BaseButton",{staticClass:"primary add-to-card__add-btn",nativeOn:{click:function(e){return t.submitAddCart(e)}}},[t._v("\n    "+t._s(t.$t(t.inCartQty?"updateCartQty":"addToCart"))+"\n    "),r("span",{staticClass:"add-to-card__total-price"},[t._v(t._s(t._f("formatISK")(t.price*t.quantity)))])])],1)},_=[],b=(r("c5f6"),r("82ea")),v=r("c0ea"),O={name:"AddToCartRepresentation",components:{BaseButton:b["a"],QuantityControl:v["a"]},props:{quantity:Number,updateQuantity:Function,submitAddCart:Function,price:Number,inCartQty:Number}},P=O,C=(r("c6c1"),r("2877")),w=Object(C["a"])(P,y,_,!1,null,"9d92fdf0",null),j=w.exports,S=r("935a"),L=r("fda7");function k(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,s)}return r}function I(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?k(r,!0).forEach(function(e){Object(o["a"])(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):k(r).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var R={name:"ProductModal",components:{BaseModal:m["a"],AddToCartRepresentation:j},data:function(){return{tempQuantity:0}},computed:I({},Object(i["c"])(["getModalState","getModalVisibilityState"]),{isProductModalVisible:function(){return this.getModalVisibilityState(S["k"])},payload:function(){return this.getModalState(S["k"])},cloudinaryImgURL:function(){return this.payload.productImg&&new L["a"](this.payload.productImg).height(400).toURL()}}),methods:{submitAddCart:function(){var t=this.payload.updateCartQuantity;t&&(t(this.tempQuantity),this.hideProductModal())},updateQuantity:function(t){t<1&&(t=1),this.tempQuantity=t},hideProductModal:function(){this.$store.dispatch("toggleModal",{isVisible:!1,modalKey:S["k"]})}},watch:{isProductModalVisible:function(t,e){t&&!e&&(this.tempQuantity=this.payload.inCartQty||1)}}},M=R,A=(r("a14d"),Object(C["a"])(M,h,g,!1,null,"0c54ceaa",null)),D=A.exports,N=r("7b39"),B=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"grocery-products"},[r("ShopByCategories",{staticClass:"grocery-products__categories category-item--text-align-center",attrs:{categories:t.topLvCategories,nettoURL:t.nettoURL}}),r("div",{class:["grocery-products__carousels-container"]},t._l(t.categoriesToRender,function(e,s){return r("GridCarouselRow",{key:t.categoryId(e,s),attrs:{category:e,categories:t.categories,nettoURL:t.nettoURL,storeId:t.id}})}),1)],1)},x=[],E=(r("8615"),r("7514"),r("75fc")),U=r("ee84"),$=r("8b82"),T=r("9505"),G=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"grid-carousel-row"},[t.categoryName?r("div",{},[r("div",{staticClass:"grid-carousel-row__categories-container hide-scroll-bar"},[r("router-link",{staticClass:"grid-carousel-row__category-item grid-carousel-row__category-item--main",attrs:{to:t.linkParams(t.categoryName),title:"Skoða flokk nánar"}},[t._v(t._s(t.categoryName))]),t._l(t.subcategories(t.category),function(e){return r("router-link",{key:e.entity_id,staticClass:"grid-carousel-row__category-item",attrs:{to:t.linkParamsSubcategory(t.categoryName,e.name)}},[r("BaseButton",{staticClass:"tertiary tertiary--secondary",attrs:{title:"category"}},[t._v(t._s(e.name))])],1)})],2),r("ProductsCarousel",{attrs:{productList:t.category,productParentId:t.storeId,categoryLink:t.linkParams(t.categoryName)}})],1):r("div",{},[t._m(0),r("ProductsCarousel",{attrs:{productList:t.category,productParentId:t.storeId}})],1)])},Q=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"grid-carousel-row__categories-container hide-scroll-bar"},[r("div",{staticClass:"grid-carousel-row__category-item grid-carousel-row__category-item--main app-ph"})])}],V=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("SwipperButtons",[r("DraggableScroll",{staticClass:"products-carousel hide-scroll-bar"},[t._l(t.productListToRender,function(e,s){return r("GridGroceryItem",t._b({key:e?e.entity_id:s,staticClass:"products_carousel__product-item",attrs:{parent_product_id:+t.productParentId,imgHeight:150}},"GridGroceryItem",e,!1))}),t.categoryLink?r("div",{staticClass:"products_carousel__product-item products_carousel__see-all-wrapper"},[r("router-link",{staticClass:"products_carousel__see-all",attrs:{to:t.categoryLink}},[t._v(t._s(t.$t("seeMore")))])],1):t._e()],2)],1)},F=[],K=r("7b50"),Y=r("3757"),W=r("ad03"),q={name:"ProductsCarousel",components:{GridGroceryItem:Y["default"],DraggableScroll:W["a"],SwipperButtons:K["a"]},props:{productList:Array,productParentId:[String,Number],categoryLink:String},computed:{productListToRender:function(){return Object(u["a"])(this.productList,"length")?this.productList:Object(E["a"])(Array(6))}}},H=q,J=(r("ab5a"),Object(C["a"])(H,V,F,!1,null,"5f8203f6",null)),z=J.exports,X={name:"GridCarouselRow",props:{categories:Array,category:Array,nettoURL:String,storeId:void 0},components:{BaseButton:b["a"],ProductsCarousel:z},computed:{categoryName:function(){return Object(u["a"])(this.category,"0.catname")}},methods:{subcategories:function(t){return this.categories.filter(function(e){if(e.category_id==t[0].category_id)return!0})},linkParams:function(t){return"/verslun/".concat(this.nettoURL,"/").concat(t)},linkParamsSubcategory:function(t,e){return"/verslun/".concat(this.nettoURL,"/").concat(t,"/").concat(e)}}},Z=X,tt=(r("9fae"),Object(C["a"])(Z,G,Q,!1,null,"7c5ee1a2",null)),et=tt.exports,rt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"shop-by-cat"},[r("h4",{staticClass:"shop-by-cat__title"},[t._v(t._s(t.$t("categories")))]),r("div",{staticClass:"shop-by-cat__cat-list hide-scroll-bar"},t._l(t.categoriesToRender,function(e,s){return r("CategoryItem",{key:e.entity_id||s,attrs:{onClickItem:function(){return t.handleClickItem({name:e.name})},imgURL:e.logo_image,name:e.name,isLoading:!e.name}})}),1)])},st=[],at=r("ad82"),nt={components:{CategoryItem:at["a"]},props:{categories:{type:Array,default:function(){return[]}},nettoURL:String},computed:{categoriesToRender:function(){return this.categories.length?this.categories:Object(E["a"])(Array(20)).map(function(t){return{}})}},methods:{handleClickItem:function(t){var e=t.name;this.$router.push("/verslun/".concat(this.nettoURL,"/").concat(e))}}},ot=nt,it=(r("7a87"),Object(C["a"])(ot,rt,st,!1,null,"4ad55364",null)),ct=it.exports;function ut(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,s)}return r}function dt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ut(r,!0).forEach(function(e){Object(o["a"])(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ut(r).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var lt={name:"GroceryProducts",components:{GridCarouselRow:et,ShopByCategories:ct},props:{id:Number,storeName:String},data:function(){return{groupedCategories:[],categories:[],LOADING_KEY_FETCH_GROCERY_PRODUCT:T["l"]}},computed:dt({},Object(i["c"])(["getNettoURLByID"]),{categoriesToRender:function(){var t=this;if(!this.groupedCategories.length)return Object(E["a"])(Array(6));var e=[];return this.groupedCategories.forEach(function(t,r){return 0===r?e.push(t.category_id):t.category_id!==e[e.length-1]?e.push(t.category_id):void 0}),e.map(function(e){return t.groupedCategories.filter(function(t){return t.category_id===e})})},nettoURL:function(){var t=this.getNettoURLByID,e=this.id;return t(e)},topLvCategories:function(){var t=this,e=this.categoriesToRender.map(function(t){return Object(u["a"])(t,"0.category_id")}),r=e.map(function(e){return t.categories.find(function(t){var r=t.entity_id;return r===e})}).filter(Boolean);return r}}),methods:dt({},Object(i["b"])(["toggleLoading"]),{chunk:U["a"],categoryId:function(t,e){return Object(u["a"])(t,"0.category_id",e)},fetchProducts:function(){var t=Object(n["a"])(regeneratorRuntime.mark(function t(){var e,r,s=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=this.toggleLoading,e({loadingKey:T["l"],isLoading:!0}),t.next=4,Object($["a"])({service:"store_frontpage",store_id:this.id,cache:600});case 4:r=t.sent,this.groupedCategories=Object.values(r.data["0"]).map(function(t){return dt({stores:[{store_id:s.id,store_name:s.storeName}]},t)}),this.categories=Object.values(r.data["1"]),e({loadingKey:T["l"],isLoading:!1});case 8:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()}),watch:{id:function(){var t=Object(n["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.groupedCategories=[],this.categories=[],t.next=4,this.fetchProducts();case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),storeName:function(){var t=this,e=this.groupedCategories.map(function(e){return dt({},e,{stores:[{store_id:e.stores[0].store_id,store_name:t.storeName}]})});this.groupedCategories=e}},mounted:function(){var t=Object(n["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.fetchProducts();case 2:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},pt=lt,ft=(r("6391"),Object(C["a"])(pt,B,x,!1,null,"624ed1b4",null)),ht=ft.exports,gt=r("45f9"),mt=r("7855");function yt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,s)}return r}function _t(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?yt(r,!0).forEach(function(e){Object(o["a"])(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yt(r).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var bt={name:"ViewGroceries",mixins:[l,p["a"],d["a"]],props:{storeUrl:String},components:{GroceryProducts:ht,ProductModal:D,DeliveryCurrAddressContainer:N["a"],DeliveryBarWrapper:gt["a"],MyProductPopupWrapper:f["a"],MyProductAndSameAsLastBtns:mt["a"]},data:function(){return{address:{},SELLER_TYPES:c["k"]}},computed:_t({},Object(i["c"])(["userAddress","selectedNettoAddress","fulfillmentMethod","getNettoURLByID","getNettoIdByURL","getNettoIdByPostcode","userAddressString"]),{storeName:function(){return this.id&&this.merchant&&this.merchant.name},id:function(){var t=this.getNettoIdByURL,e=this.storeUrl;if(e)return t(e)},restrictToMyProduct:function(){var t=this.getNettoURLByID(this.id);return{name:"ViewIndividualProducts",params:{isActiveMyProductButton:!0,path:t}}},currentAddress:function(){return this.fulfillmentMethod!==c["f"].DELIVERY&&this.supportPickupShipment?Object(u["a"])(this.merchant,"restaurant_address"):this.currDeliveryText}}),methods:_t({},Object(i["b"])(["setIsInGroceriesScreen","getPickupLocations","setNavBarTitle","fetchStorePostcodeIdMap","notification","toggleModal","getStoreIdURLMap"]),{handleMyProductClick:function(){this.$store.state.customer.is_logged_in?this.$router.push(this.restrictToMyProduct):this.$store.dispatch("toggleLogin",this.restrictToMyProduct)},goToNettoStore:function(){var t=Object(n["a"])(regeneratorRuntime.mark(function t(){var e,r,s,a,n,o,i,u,d,l;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=this.fulfillmentMethod,r=this.userAddress,s=this.selectedNettoAddress,a=this.getNettoURLByID,n=this.getNettoIdByPostcode,o=this.fetchStorePostcodeIdMap,i=this.getStoreIdURLMap,u=r.postcode,t.next=4,o();case 4:return t.next=6,i();case 6:if(d=n(u),e===c["f"].PICKUP&&(d=s?s.id:d),d){t.next=10;break}return t.abrupt("return");case 10:l=a(d),this.$router.replace("/grocery/".concat(l));case 12:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),outsideDeliveryAreaWarning:function(){var t=Object(n["a"])(regeneratorRuntime.mark(function t(){var e,r,s,a,n,o,i,c=arguments;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=c.length>0&&void 0!==c[0]?c[0]:{},r=e.userAddress,s=void 0===r?this.userAddress:r,a=this.getNettoIdByPostcode,n=this.fetchStorePostcodeIdMap,o=s.postcode,t.next=5,n();case 5:i=a(o),i||this.toggleModal({modalKey:S["j"],isVisible:!0});case 7:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()}),mounted:function(){var t=Object(n["a"])(regeneratorRuntime.mark(function t(){var e,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(e=this.userAddressString,r=this.storeUrl,this.setNavBarTitle({en:"Grocery",is:"Matvara"}),this.setIsInGroceriesScreen(!0),this.getPickupLocations(),r||!e){t.next=7;break}return t.next=7,this.goToNettoStore();case 7:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),beforeDestroy:function(){this.setIsInGroceriesScreen(!1)},watch:{userAddress:function(){this.outsideDeliveryAreaWarning()},fulfillmentMethod:function(t){t===c["f"].DELIVERY&&this.userAddressString&&this.outsideDeliveryAreaWarning()}}},vt=bt,Ot=(r("0dfa"),Object(C["a"])(vt,s,a,!1,null,"29bf7e11",null));e["default"]=Ot.exports},e4c8:function(t,e,r){"use strict";var s=r("396a"),a=r.n(s);e["default"]=a.a},ee84:function(t,e,r){"use strict";var s=r("75fc");e["a"]=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=Object(s["a"])(t);if(e<=0)return r;while(a.length)r.push(a.splice(0,e));return r}},f754:function(t,e,r){"use strict";var s=r("7a67"),a=r.n(s);a.a},ffc1:function(t,e,r){var s=r("5ca1"),a=r("504c")(!0);s(s.S,"Object",{entries:function(t){return a(t)}})}}]);
//# sourceMappingURL=chunk-53e63e15.f3ebcd5b.js.map