{"version":3,"sources":["webpack:///./src/components/GridSearchItem.vue?58d4","webpack:///./src/util/getStringByLocale.js","webpack:///./src/components/GridSearchItem.vue?d000","webpack:///./src/components/GridSearchItem.vue?feb4","webpack:///./src/components/GridSearchItem.vue?c6f0","webpack:///./src/components/GridSearchItemStoreDistance.vue?81f9","webpack:///./src/util/getCrowFliesDistance.js","webpack:///src/components/GridSearchItemStoreDistance.vue","webpack:///./src/components/GridSearchItemStoreDistance.vue?c1eb","webpack:///./src/components/GridSearchItemStoreDistance.vue","webpack:///src/components/GridSearchItem.vue","webpack:///./src/components/GridSearchItem.vue?6632","webpack:///./src/components/GridSearchItem.vue?5a29","webpack:///./src/components/GridSearchItemStoreDistance.vue?875a","webpack:///./src/util/CloudinaryQuery.js"],"names":["module","exports","Component","options","__i18n","push","_Ctor","__webpack_require__","d","__webpack_exports__","getStringByLocale","_i18n__WEBPACK_IMPORTED_MODULE_0__","_ref","isStr","enStr","_ref$fallback","fallback","trueValue","i18n","locale","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_GridSearchItem_vue_vue_type_style_index_0_id_066a4107_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_GridSearchItem_vue_vue_type_style_index_0_id_066a4107_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","n","_node_modules_kazupon_vue_i18n_loader_lib_index_js_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_GridSearchItem_vue_vue_type_custom_index_0_blockType_i18n__WEBPACK_IMPORTED_MODULE_0__","_node_modules_kazupon_vue_i18n_loader_lib_index_js_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_GridSearchItem_vue_vue_type_custom_index_0_blockType_i18n__WEBPACK_IMPORTED_MODULE_0___default","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","to","urlStripped","nativeOn","click","$event","redirectToUrl","alt","name","src","cloudinaryImage","loading","_v","_s","$t","translatedName","storeList","stores","staticRenderFns","GridSearchItemStoreDistancevue_type_template_id_75c698ba_scoped_true_render","_l","store","key","getTranslatedName","isMissingAddressData","distance","_e","GridSearchItemStoreDistancevue_type_template_id_75c698ba_scoped_true_staticRenderFns","deg2rad","deg","Math","PI","getCrowFliesDistance","_ref2","lat1","lat","lng1","lng","lat2","lng2","R","dLat","dLon","a","sin","cos","c","atan2","sqrt","GridSearchItemStoreDistancevue_type_script_lang_js_","props","Array","computed","_objectSpread","Object","vuex_esm","storeListWithDistance","calculateStoreDistance","_this$storeList","map","geolocation","sort","b","methods","coorStr","searchAnchorPoint","getCoordinateFromString","coordinates","ceil","_coorStr$replace$spli","replace","split","_coorStr$replace$spli2","slicedToArray","store_name","en_store_name","components_GridSearchItemStoreDistancevue_type_script_lang_js_","component","componentNormalizer","GridSearchItemStoreDistance","GridSearchItemvue_type_script_lang_js_","components","BaseButton","ImageViewer","price","Number","String","en_name","image","special_price","objectID","attribute_set_name","url","_geoloc","imgRelativeURL","includes","indexOf","CloudinaryQuery","height","toURL","parentUrl","store_url","type","urlFull","concat","GridSearchItemvue_type_script_lang_js_objectSpread","addToCart","product","entity_id","super_product","parent_product_id","stopSearching","$route","path","components_GridSearchItemvue_type_script_lang_js_","GridSearchItem_component","GridSearchItemvue_type_custom_index_0_blockType_i18n","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_GridSearchItemStoreDistance_vue_vue_type_style_index_0_id_75c698ba_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_GridSearchItemStoreDistance_vue_vue_type_style_index_0_id_75c698ba_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","imgPath","data","basePath","width","undefined","pad","background","dpa","trim","quality","usePad","dpaStr","bgStr","str","_this$data","paramList","filter","Boolean","join"],"mappings":"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","file":"js/chunk-1de23d68.0abc3469.js","sourcesContent":["module.exports = function (Component) {\n  Component.options.__i18n = Component.options.__i18n || []\n  Component.options.__i18n.push('{\"is\":{\"view\":\"Skoða\"},\"en\":{\"view\":\"View\"}}')\n  delete Component.options._Ctor\n}\n","import i18n from \"@/i18n\";\n\nexport default function getStringByLocale({ isStr, enStr, fallback = true }) {\n  const trueValue = i18n.locale === \"en\" ? enStr : isStr;\n\n  if (fallback) {\n    return trueValue || (i18n.locale === \"en\" ? isStr : enStr);\n  }\n\n  return trueValue;\n}\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GridSearchItem.vue?vue&type=style&index=0&id=066a4107&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GridSearchItem.vue?vue&type=style&index=0&id=066a4107&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/@kazupon/vue-i18n-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GridSearchItem.vue?vue&type=custom&index=0&blockType=i18n\"; export default mod; export * from \"-!../../node_modules/@kazupon/vue-i18n-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GridSearchItem.vue?vue&type=custom&index=0&blockType=i18n\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"grid-search-item\"},[_c('div',{staticClass:\"items-grid__item\"},[_c('div',{staticClass:\"items-grid__image\"},[_c('router-link',{attrs:{\"to\":_vm.urlStripped},nativeOn:{\"click\":function($event){return _vm.redirectToUrl($event)}}},[_c('ImageViewer',{attrs:{\"alt\":_vm.name,\"src\":_vm.cloudinaryImage,\"loading\":\"lazy\"}}),_c('div',{staticClass:\"item-grid__image-overlay\"},[_c('div',{staticClass:\"center-center width\"},[_c('base-button',{staticClass:\"primary\"},[_vm._v(_vm._s(_vm.$t(\"view\")))])],1)])],1)],1),_c('div',{staticClass:\"items-grid__content\"},[_c('div',{staticClass:\"items-grid__left clearfix\"},[_c('h2',{staticClass:\"items-grid__name\"},[_c('router-link',{attrs:{\"to\":_vm.urlStripped},nativeOn:{\"click\":function($event){return _vm.redirectToUrl($event)}}},[_vm._v(_vm._s(_vm.translatedName))])],1),_c('div',{staticClass:\"items-grid__store-distances\"},[_c('GridSearchItemStoreDistance',{attrs:{\"storeList\":_vm.stores}})],1)])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"store-distace-list\"},_vm._l((_vm.storeListWithDistance),function(store,key){return _c('div',{key:((store.store_id) + \"__\" + key),staticClass:\"store-distance\"},[_c('router-link',{staticClass:\"store-distance__url\",attrs:{\"to\":(\"/\" + (store.store_url))}},[_c('div',{staticClass:\"store-distance__name ellipsis\"},[_vm._v(_vm._s(_vm.getTranslatedName(store)))]),(!_vm.isMissingAddressData && store.distance)?_c('div',{staticClass:\"store-distance__distance\"},[_vm._v(\"\\n        (\"+_vm._s(store.distance)+\" Km)\\n      \")]):_vm._e()])],1)}),0)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","function deg2rad(deg) {\n  return deg * (Math.PI / 180);\n}\n\nexport default function getCrowFliesDistance(\n  { lat: lat1, lng: lng1 },\n  { lat: lat2, lng: lng2 },\n) {\n  const R = 6380; // Radius of the earth in km\n  const dLat = deg2rad(lat2 - lat1); // deg2rad below\n  const dLon = deg2rad(lng2 - lng1);\n  const a =\n    Math.sin(dLat / 2) * Math.sin(dLat / 2) +\n    Math.cos(deg2rad(lat1)) *\n      Math.cos(deg2rad(lat2)) *\n      Math.sin(dLon / 2) *\n      Math.sin(dLon / 2);\n  const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n  const d = R * c; // Distance in km\n  return d;\n}\n","<template>\n  <div class=\"store-distace-list\">\n    <div\n      v-for=\"(store, key) in storeListWithDistance\"\n      :key=\"`${store.store_id}__${key}`\"\n      class=\"store-distance\"\n    >\n      <router-link class=\"store-distance__url\" :to=\"`/${store.store_url}`\">\n        <div class=\"store-distance__name ellipsis\">{{ getTranslatedName(store) }}</div>\n        <div\n          v-if=\"!isMissingAddressData && store.distance\"\n          class=\"store-distance__distance\"\n        >\n          ({{ store.distance }}&nbsp;Km)\n        </div>\n      </router-link>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapGetters } from \"vuex\";\nimport getCrowFliesDistance from \"@/util/getCrowFliesDistance\";\nimport getStringByLocale from \"@/util/getStringByLocale\";\n\nexport default {\n  name: \"GridSearchItemStoreDistance\",\n  props: {\n    storeList: Array,\n  },\n  computed: {\n    ...mapGetters([\"searchAnchorPoint\", \"isMissingAddressData\"]),\n    storeListWithDistance() {\n      const { calculateStoreDistance, storeList = [] } = this;\n      return storeList\n        .map(store => ({\n          ...store,\n          distance: calculateStoreDistance(store.geolocation),\n        }))\n        .sort((a, b) => a.distance - b.distance);\n    },\n  },\n  methods: {\n    calculateStoreDistance(coorStr) {\n      const { searchAnchorPoint, getCoordinateFromString } = this;\n      const coordinates = getCoordinateFromString(coorStr);\n      if (!searchAnchorPoint) return;\n      // 1.22 to 1.3, 2.00 to 2\n      return (\n        Math.ceil(getCrowFliesDistance(searchAnchorPoint, coordinates) * 10) /\n        10\n      );\n    },\n    getCoordinateFromString(coorStr) {\n      const [lat, lng] = coorStr.replace(/\\s/g, \"\").split(\",\");\n      return { lat, lng };\n    },\n    getTranslatedName(store) {\n      return getStringByLocale({\n        isStr: store.store_name,\n        enStr: store.en_store_name,\n      });\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.store-distance__url {\n  display: flex;\n  /* justify-content: space-between; */\n  color: #8d8d8f;\n  &:hover {\n    color: #616161;\n  }\n}\n.store-distance__name {\n  padding-right: 10px;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GridSearchItemStoreDistance.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GridSearchItemStoreDistance.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./GridSearchItemStoreDistance.vue?vue&type=template&id=75c698ba&scoped=true&\"\nimport script from \"./GridSearchItemStoreDistance.vue?vue&type=script&lang=js&\"\nexport * from \"./GridSearchItemStoreDistance.vue?vue&type=script&lang=js&\"\nimport style0 from \"./GridSearchItemStoreDistance.vue?vue&type=style&index=0&id=75c698ba&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"75c698ba\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"grid-search-item\">\n    <div class=\"items-grid__item\">\n      <div class=\"items-grid__image\">\n        <router-link :to=\"urlStripped\" @click.native=\"redirectToUrl\">\n          <ImageViewer :alt=\"name\" :src=\"cloudinaryImage\" loading=\"lazy\" />\n          <div class=\"item-grid__image-overlay\">\n            <div class=\"center-center width\">\n              <base-button class=\"primary\">{{ $t(\"view\") }}</base-button>\n            </div>\n          </div>\n        </router-link>\n      </div>\n      <div class=\"items-grid__content\">\n        <div class=\"items-grid__left clearfix\">\n          <h2 class=\"items-grid__name\">\n            <router-link :to=\"urlStripped\" @click.native=\"redirectToUrl\">{{\n              translatedName\n            }}</router-link>\n          </h2>\n          <div class=\"items-grid__store-distances\">\n            <GridSearchItemStoreDistance :storeList=\"stores\" />\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<i18n>\n{\n  \"is\": {\n    \"view\": \"Skoða\"\n  },\n  \"en\": {\n    \"view\": \"View\"\n  }\n}\n</i18n>\n\n<script type=\"text/javascript\">\nimport BaseButton from \"@/components/BaseButton\";\nimport ImageViewer from \"@/components/ImageViewer\";\nimport GridSearchItemStoreDistance from \"@/components/GridSearchItemStoreDistance\";\nimport { mapActions } from \"vuex\";\nimport getStringByLocale from \"@/util/getStringByLocale\";\nimport CloudinaryQuery from \"@/util/CloudinaryQuery\";\n\nexport default {\n  name: \"GridSearchItem\",\n  components: {\n    BaseButton,\n    GridSearchItemStoreDistance,\n    ImageViewer,\n  },\n  props: {\n    price: Number,\n    name: String,\n    en_name: String,\n    image: String,\n    special_price: String,\n    objectID: String,\n    attribute_set_name: String,\n    stores: Array,\n    url: String,\n    _geoloc: [Array, Object],\n  },\n  computed: {\n    imgRelativeURL() {\n      return this.image && this.image.includes(\"http\")\n        ? this.image.replace(\"https://cdn.aha.is/media/catalog/product/\", \"\")\n        : this.image;\n    },\n    cloudinaryImage() {\n      if (\n        !this.image ||\n        this.image === \"no_selection\" ||\n        this.image.indexOf(\"no_selection\") !== -1\n      ) {\n        return \"\";\n      }\n\n      return new CloudinaryQuery(this.imgRelativeURL).height(150).toURL();\n    },\n    parentUrl() {\n      const url = this.stores ? this.stores[0].store_url : \"/404\";\n      return url;\n    },\n    urlStripped() {\n      const { attribute_set_name: type, url: urlFull, parentUrl } = this;\n      const url = urlFull.replace(\"https://www.aha.is/\", \"\");\n      switch (type) {\n        case \"Store\":\n          return `/verslun/${url}`;\n        case \"Store Item\":\n          return `/${url}`;\n        case \"Restaurants\":\n          return `/veitingar/${url}`;\n        case \"Food\":\n          return `/veitingar/${parentUrl}`;\n        case \"Aha\":\n          return `/tilbod-dagsins/${url}`;\n        default:\n          return \"/404\";\n      }\n    },\n    translatedName() {\n      return getStringByLocale({ isStr: this.name, enStr: this.en_name });\n    },\n  },\n  methods: {\n    ...mapActions([\"addToCart\", \"stopSearching\"]),\n    addToCart() {\n      this.addToCart({\n        product: this.entity_id,\n        super_product: this.parent_product_id,\n      });\n    },\n    redirectToUrl() {\n      const { url: urlFull, stopSearching } = this;\n      const url = urlFull.replace(\"https://www.aha.is/\", \"\");\n      this.$route.path === `/${url}` && stopSearching();\n    },\n  },\n};\n</script>\n\n<style scoped>\n/*! CSS Used from: file:///Users/maron/Downloads/new-version-website%202/newpage.css */\n.clearfix:after {\n  display: block;\n  content: \"\";\n  clear: both;\n  overflow: hidden;\n}\na:focus,\na:active,\na:visited,\na:hover {\n  outline: 0;\n  text-decoration: none;\n}\nimg {\n  max-width: 100%;\n}\n\n.items-grid__item {\n  position: relative;\n  transition: all 0.3s ease;\n  margin-bottom: 20px;\n}\n\n.items-grid__image {\n  height: 150px;\n  position: relative;\n}\n\n.items-grid__image img {\n  max-height: 100%;\n  max-width: 100%;\n  width: auto;\n  height: auto;\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  margin: auto;\n}\n.items-grid__content {\n  padding-top: 15px;\n}\n.items-grid__left {\n  width: 100%;\n  display: inline-block;\n  vertical-align: top;\n}\n.items-grid__item:hover .items-grid__right {\n  opacity: 1;\n  visibility: visible;\n}\n.items-grid__name {\n  color: #303133;\n  font-weight: 600;\n  font-size: 15px;\n  margin: 0;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  width: 100%;\n  white-space: nowrap;\n  padding-bottom: 10px;\n}\n.items-grid__name a {\n  color: #303133;\n}\n.item-grid__image-overlay {\n  background: rgba(0, 0, 0, 0.5);\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  text-align: center;\n  opacity: 0;\n  visibility: hidden;\n  transition: all 0.3s ease;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.item-grid__image-overlay span {\n  color: #fff;\n  font-size: 16px;\n  font-weight: bold;\n}\n.item-grid__image-overlay img {\n  max-width: 20px;\n}\n.items-grid__item:hover .item-grid__image-overlay {\n  opacity: 1;\n  visibility: visible;\n}\n::-webkit-scrollbar {\n  display: none;\n}\n.items-grid__content {\n  min-height: 65px;\n}\n\n/*! CSS Used from: file:///Users/maron/Downloads/new-version-website%202/newpage-responsive.css */\n@media screen and (max-width: 1100px) {\n  .items-grid__content {\n    padding-top: 10px;\n  }\n  .items-grid__name {\n    font-size: 15px;\n  }\n}\n@media screen and (max-width: 900px) {\n  .items-grid__time-left {\n    font-size: 11px;\n  }\n  .items-grid__name {\n    font-size: 15px;\n  }\n  .items-grid__discount {\n    margin-bottom: 5px;\n  }\n}\n@media screen and (max-width: 767px) {\n  [class*=\"col-\"] {\n    padding-left: 7px;\n    padding-right: 7px;\n  }\n  .items-grid__item {\n    margin-bottom: 30px;\n  }\n  .item-grid__image-overlay {\n    display: none !important;\n  }\n  .items-grid__right {\n    opacity: 1;\n    visibility: visible;\n  }\n  .items-grid__content {\n    padding-top: 12px;\n    white-space: normal;\n  }\n  .items-grid__name {\n    font-size: 15px;\n  }\n  .items-grid__discount {\n    font-size: 11px;\n    padding: 1px 10px;\n    margin-bottom: 12px;\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GridSearchItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GridSearchItem.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./GridSearchItem.vue?vue&type=template&id=066a4107&scoped=true&\"\nimport script from \"./GridSearchItem.vue?vue&type=script&lang=js&\"\nexport * from \"./GridSearchItem.vue?vue&type=script&lang=js&\"\nimport style0 from \"./GridSearchItem.vue?vue&type=style&index=0&id=066a4107&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"066a4107\",\n  null\n  \n)\n\n/* custom blocks */\nimport block0 from \"./GridSearchItem.vue?vue&type=custom&index=0&blockType=i18n\"\nif (typeof block0 === 'function') block0(component)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GridSearchItemStoreDistance.vue?vue&type=style&index=0&id=75c698ba&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GridSearchItemStoreDistance.vue?vue&type=style&index=0&id=75c698ba&lang=scss&scoped=true&\"","export default function CloudinaryQuery(imgPath) {\n  return {\n    data: {\n      basePath: \"https://images.aha.is/image/upload\",\n      imgPath: imgPath || \"/b/o/bo_kunarkart.jpg\",\n      width: undefined,\n      height: undefined,\n      pad: false,\n      background: \"\",\n      dpa: \"dpr_auto\",\n      trim: \"e_trim:10\",\n      quality: \"q_auto\",\n    },\n    width(width) {\n      this.data.width = width;\n      return this;\n    },\n    height(height) {\n      this.data.height = height;\n      return this;\n    },\n    pad(usePad) {\n      this.data.pad = usePad;\n      return this;\n    },\n    dpa(dpaStr) {\n      // https://cloudinary.com/documentation/image_transformations#set_device_pixel_ratio_dpr\n      this.data.dpa = dpaStr;\n      return this;\n    },\n    background(bgStr) {\n      // https://cloudinary.com/documentation/image_transformations#setting_background_color\n      // b_rgb:3e2222, b_green,  b_auto:predominant\n      this.data.background = bgStr;\n      return this;\n    },\n    trim(str) {\n      this.data.trim = str;\n      return this;\n    },\n    quality(str) {\n      this.data.quality = str;\n      return this;\n    },\n    toURL() {\n      const { basePath, imgPath, width, height, trim, quality } = this.data;\n      const paramList = [\n        width && `w_${width}`,\n        height && `h_${height}`,\n        quality,\n      ].filter(Boolean);\n      return `${basePath}/${trim}/${paramList.join(\",\")}/products/${imgPath}`;\n    },\n  };\n}\n"],"sourceRoot":""}