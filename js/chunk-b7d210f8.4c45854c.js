(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b7d210f8","chunk-0dce66a5"],{3757:function(t,e,i){"use strict";i.r(e);var r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:["grid-grocery-item",t.showQuantityControlInMobile&&"grid-grocery-item--show-qty-control-mobile"]},[t.entity_id?i("div",{class:["items-grid__item",t.isOverlayShowing&&"items-grid__item--show-overlay",t.isInGroceriesScreen&&"cursor-pointer"],on:{click:t.showGroceryProductModal}},[i("div",{staticClass:"items-grid__image",on:{click:t.toggleOverlay}},[t.percentDiscount?i("span",{staticClass:"items-grid__item-discount-percent"},[t._v(t._s(t.percentDiscount))]):t._e(),i("div",[i("ImageViewer",{staticClass:"img img-responsive",attrs:{src:t.cloudinaryImage,alt:t.name,loading:"lazy"}})],1),this.quantity?i("div",{staticClass:"items-grid__item-in-cart"},[t._v("\n        "+t._s(this.quantity)+"\n      ")]):t._e(),i("div",{staticClass:"item-grid__image-overlay"},[this.quantity?i("div",{staticClass:"center-center width"},[i("div",{staticClass:"quantity"},[t._v(t._s(this.quantity)+" "+t._s(t.$t("inCart")))]),i("div",{staticClass:"item-grid__overlay-btns-container"},[i("base-button",{staticClass:"primary",attrs:{size:"small"},nativeOn:{click:function(e){return t.handleDecreaseCartQty(e)}}},[i("i",{staticClass:"fa fa-minus"})]),i("base-button",{staticClass:"primary btn--small btn--fit-width",nativeOn:{click:function(e){return t.handleIncreaseCartQty(e)}}},[i("i",{staticClass:"fa fa-plus"}),t._v("\n              "+t._s(t.$t("add"))+"\n            ")])],1)]):i("base-button",{staticClass:"center-center width primary",nativeOn:{click:function(e){return t.handleIncreaseCartQty(e)}}},[t._v(t._s(t.$t("addToCart")))])],1)]),i("div",{staticClass:"items-grid__content"},[i("div",{staticClass:"items-grid__name"},[i("router-link",{attrs:{to:t.urlStripped}},[t._v(t._s(t.translatedName))])],1),i("div",{staticClass:"details"},[i("span",{directives:[{name:"show",rawName:"v-show",value:t.calc_special_price,expression:"calc_special_price"}],staticClass:"special_price"},[t._v(t._s(t._f("formatISK")(t.calc_special_price)))]),i("span",{staticClass:"price"},[t._v(t._s(t._f("formatISK")(t.calc_price)))]),i("span",{staticClass:"unit_text"},[t._v(t._s(t.unit_text))])]),i("QuantityControl",{staticClass:"quantity-control--specific-store",attrs:{updateQuantity:t.updateCartQuantity,quantity:t.quantity}})],1)]):i("div",{staticClass:"items-grid__item"},[i("div",{staticClass:"items-grid__image app-ph"}),i("div",{staticClass:"items-grid__placeholder-text app-ph"})])])},n=[],a=(i("8e6e"),i("ac6a"),i("456d"),i("7f7f"),i("a481"),i("6762"),i("2fdb"),i("bd86")),s=(i("c5f6"),i("82ea")),c=i("e700"),o=i("8685"),u=i("f23c"),l=i("935a"),d=i("2f62"),p=i("c0ea"),h=i("78cc"),f=i("fda7");function m(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,r)}return i}function v(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?m(i,!0).forEach(function(e){Object(a["a"])(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):m(i).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}var g={name:"GridGroceryItem",mixins:[o["a"]],components:{BaseButton:s["a"],ImageViewer:c["a"],QuantityControl:p["a"]},props:{name:String,en_name:String,image:{type:String,default:""},entity_id:Number,objectID:String,stores:Array,catname:String,unit_text:String,price:Number,url:String,special_price:[String,Number],ingredients:String,showQuantityControlInMobile:{type:Boolean,default:!1},imgHeight:{type:Number,default:400}},data:function(){return{isOverlayShowing:!1}},computed:v({},Object(d["d"])(["isInGroceriesScreen"]),{imgRelativeURL:function(){return this.image&&this.image.includes("http")?this.image.replace("https://cdn.aha.is/media/catalog/product/",""):this.image},cloudinaryImage:function(){return"no_selection"!==this.image&&this.image?new f["a"](this.imgRelativeURL).height(this.imgHeight).toURL():""},calc_special_price:function(){return this.special_price&&this.special_price!==this.price?this.price:""},calc_price:function(){return this.special_price?parseInt(this.special_price):this.price},percentDiscount:function(){var t=this.calc_special_price,e=this.calc_price;return t?"- "+(100-Math.ceil(100*e/t))+"%":""},urlStripped:function(){return this.url?this.url.replace("https://www.aha.is",""):""},translatedName:function(){return Object(h["a"])({isStr:this.name,enStr:this.en_name})}}),methods:{showGroceryProductModal:function(){var t=this.name,e=this.calc_special_price,i=this.calc_price,r=this.unit_text,n=this.imgRelativeURL,a=this.cartItem,s=this.ingredients;this.isInGroceriesScreen&&this.$store.dispatch("toggleModal",{modalKey:l["k"],isVisible:!0,name:t,unit_text:r,calc_special_price:e,calc_price:i,productImg:n,inCartQty:Object(u["a"])(a,"cart_qty",0),updateCartQuantity:this.updateCartQuantity,ingredients:s})},handleIncreaseCartQty:function(t){t.stopPropagation(),this.increaseCartQty()},handleDecreaseCartQty:function(t){t.stopPropagation(),this.decreaseCartQty()},toggleOverlay:function(t){var e=this;t.stopPropagation(),this.isOverlayShowing=!0,clearTimeout(this.overlayActiveTimer),this.overlayActiveTimer=setTimeout(function(){return e.isOverlayShowing=!1},3e3)}}},_=g,w=(i("4f7d"),i("2877")),b=i("5287"),y=Object(w["a"])(_,r,n,!1,null,"6c2e4e8e",null);"function"===typeof b["default"]&&Object(b["default"])(y);e["default"]=y.exports},"4f7d":function(t,e,i){"use strict";var r=i("ce0e"),n=i.n(r);n.a},5287:function(t,e,i){"use strict";var r=i("f37e"),n=i.n(r);e["default"]=n.a},"6f52":function(t,e,i){"use strict";var r=i("798a"),n=i.n(r);n.a},"798a":function(t,e,i){},"7b50":function(t,e,i){"use strict";var r=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{class:["swipper-buttons-container",t.carouselArrowIndicatorClass]},[r("div",{staticClass:"swipper-buttons__arrow swipper-buttons__arrow--right",on:{click:function(e){return t.handleSwipe({direction:"right"})}}},[r("img",{attrs:{src:i("8281"),alt:"arrow-right"}})]),r("div",{staticClass:"swipper-buttons__arrow swipper-buttons__arrow--left",on:{click:function(e){return t.handleSwipe({direction:"left"})}}},[r("img",{attrs:{src:i("f6db"),alt:"arrow-left"}})]),r("div",{ref:"carouselRef",staticClass:"swipper-buttons__slot-content"},[t._t("default")],2)])},n=[],a=(i("c5f6"),i("f23c")),s={name:"SwipperButtons",props:{nextWidth:{type:Number,default:195},onSwipeClick:Function},data:function(){return{carouselArrowIndicatorClass:""}},computed:{carouselRef:function(){return Object(a["a"])(this.$refs,"carouselRef.children")[0]}},methods:{updateCarouselArrowIndicator:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.carouselRef,e=t.scrollLeft,i=t.scrollWidth,r=t.clientWidth,n=e>0,a=e+r<=i-2;this.carouselArrowIndicatorClass="".concat(n&&"swipper-buttons--show-left-arrow"," ").concat(a&&"swipper-buttons--show-right-arrow")},debouldUpdateCarouselArrowIndicator:function(t){var e=this;clearTimeout(this.updateCarouselArrowIndicatorTimer),this.updateCarouselArrowIndicatorTimer=setTimeout(function(){return e.updateCarouselArrowIndicator(t)},100)},handleSwipe:function(t){var e=t.direction,i=this.nextWidth;this.onSwipeClick&&(i=this.onSwipeClick({direction:e}).skipWidth),this.carouselRef.scrollBy({left:i*("right"===e?1:-1),behavior:"smooth"})}},mounted:function(){this.updateCarouselArrowIndicator(this.carouselRef),window.addEventListener("resize",this.debouldUpdateCarouselArrowIndicator.bind(this,this.carouselRef)),this.carouselRef.addEventListener("scroll",this.debouldUpdateCarouselArrowIndicator.bind(this,this.carouselRef))},beforeDestroy:function(){window.removeEventListener("resize",this.debouldUpdateCarouselArrowIndicator.bind(this,this.carouselRef)),this.carouselRef.removeEventListener("scroll",this.debouldUpdateCarouselArrowIndicator.bind(this,this.carouselRef))}},c=s,o=(i("6f52"),i("2877")),u=Object(o["a"])(c,r,n,!1,null,"51008fa4",null);e["a"]=u.exports},8281:function(t,e,i){t.exports=i.p+"img/arrow-right.92ef278a.svg"},"8b82":function(t,e,i){"use strict";i("96cf");var r=i("3b8d"),n=i("bc3a"),a=i.n(n);function s(){return s=Object(r["a"])(regeneratorRuntime.mark(function t(e){var i,r=arguments;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return i=r.length>1&&void 0!==r[1]?r[1]:"https://www.aha.is/ws.php",t.next=3,a.a.post(i,{headers:{"content-type":"application/json",mode:"no-cors"},params:e});case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}},t)})),s.apply(this,arguments)}e["a"]=function(t){return s.apply(this,arguments)}},ad03:function(t,e,i){"use strict";var r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"draggableScrollRef",staticClass:"draggable-scroll",on:{scroll:t.handleScroll}},[t._t("default")],2)},n=[],a={name:"DraggableScroll",props:{handleScroll:{type:Function,default:function(){}}},methods:{dragScroll:function(){var t,e,i=this.$refs.draggableScrollRef,r=!1;function n(n){r=!0,t=n.pageX-i.offsetLeft,e=i.scrollLeft}function a(){r=!1}function s(){r=!1}function c(n){if(r){n.preventDefault();var a=n.pageX-i.offsetLeft,s=a-t;i.scrollLeft=e-s}}function o(){i.addEventListener("mousedown",n),i.addEventListener("mouseleave",a),i.addEventListener("mouseup",s),i.addEventListener("mousemove",c)}function u(){i.removeEventListener("mousedown",n),i.removeEventListener("mouseleave",a),i.removeEventListener("mouseup",s),i.removeEventListener("mousemove",c)}return{addEventListener:o,removeEventListener:u}}},mounted:function(){this.dragControler=this.dragScroll(),this.dragControler.addEventListener()},beforeDestroy:function(){this.dragControler.removeEventListener()}},s=a,c=i("2877"),o=Object(c["a"])(s,r,n,!1,null,"272245a4",null);e["a"]=o.exports},b773:function(t,e,i){"use strict";i("6762"),i("2fdb"),i("ac6a"),i("8615"),i("96cf");var r=i("3b8d"),n=(i("28a5"),i("bc3a")),a=i.n(n),s=i("1503");e["a"]={name:"merchant",data:function(){return{merchant:void 0,shipments:[]}},props:{existingMerchant:Object},computed:{availablePostCodes:function(){var t=this.merchant.price_by_postcode,e=t.split(",").map(function(t){return t.split(":")[0]});return e},supportPickupShipment:function(){return this.shipments.some(function(t){return t.deal_address===s["h"]})}},methods:{getMerchantInfo:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){var e,i,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(this.id){t.next=2;break}return t.abrupt("return");case 2:return e=new URLSearchParams,e.append("service","seller_info"),e.append("id",this.id),e.append("shipments",1),t.next=8,a.a.post("/ws.php",e);case 8:return i=t.sent,r=i.data[0][0],this.merchant=r,this.shipments=Object.values(i.data[1]),t.abrupt("return",r);case 13:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),checkValidPostalCode:function(t){return!!this.availablePostCodes.includes("*")||this.availablePostCodes.includes(t)}},watch:{id:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getMerchantInfo();case 2:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},mounted:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(t.t0=this.merchant||this.existingMerchant,t.t0){t.next=5;break}return t.next=4,this.getMerchantInfo();case 4:t.t0=t.sent;case 5:this.merchant=t.t0;case 6:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()}},ce0e:function(t,e,i){},f37e:function(t,e){t.exports=function(t){t.options.__i18n=t.options.__i18n||[],t.options.__i18n.push('{"en":{"inCart":"in cart","add":"Add"},"is":{"inCart":"í körfu","add":"Bæta við"}}'),delete t.options._Ctor}},f6db:function(t,e,i){t.exports=i.p+"img/arrow-left.a41f0987.svg"},fda7:function(t,e,i){"use strict";function r(t){return{data:{basePath:"https://images.aha.is/image/upload",imgPath:t||"/b/o/bo_kunarkart.jpg",width:void 0,height:void 0,pad:!1,background:"",dpa:"dpr_auto",trim:"e_trim:10",quality:"q_auto"},width:function(t){return this.data.width=t,this},height:function(t){return this.data.height=t,this},pad:function(t){return this.data.pad=t,this},dpa:function(t){return this.data.dpa=t,this},background:function(t){return this.data.background=t,this},trim:function(t){return this.data.trim=t,this},quality:function(t){return this.data.quality=t,this},toURL:function(){var t=this.data,e=t.basePath,i=t.imgPath,r=t.width,n=t.height,a=t.trim,s=t.quality,c=[r&&"w_".concat(r),n&&"h_".concat(n),s].filter(Boolean);return"".concat(e,"/").concat(a,"/").concat(c.join(","),"/products/").concat(i)}}}i.d(e,"a",function(){return r})}}]);
//# sourceMappingURL=chunk-b7d210f8.4c45854c.js.map