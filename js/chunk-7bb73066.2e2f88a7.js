(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7bb73066","chunk-7f235d88"],{"06c9":function(e,t,n){"use strict";var r=n("1a33"),i=n.n(r);i.a},"07a3":function(e,t,n){},"093b":function(e,t,n){"use strict";var r=n("7838"),i=n.n(r);t["default"]=i.a},"1a33":function(e,t,n){},"1ea1":function(e,t,n){"use strict";var r=n("9902"),i=n.n(r);i.a},"20d6":function(e,t,n){"use strict";var r=n("5ca1"),i=n("0a49")(6),a="findIndex",s=!0;a in[]&&Array(1)[a](function(){s=!1}),r(r.P+r.F*s,"Array",{findIndex:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),n("9c6c")(a)},"284e":function(e,t,n){"use strict";var r=n("af00"),i=n.n(r);t["default"]=i.a},"2a91":function(e,t,n){"use strict";var r=n("4116"),i=n.n(r);i.a},"2e08":function(e,t,n){var r=n("9def"),i=n("9744"),a=n("be13");e.exports=function(e,t,n,s){var o=String(a(e)),c=o.length,u=void 0===n?" ":String(n),l=r(t);if(l<=c||""==u)return o;var d=l-c,p=i.call(u,Math.ceil(d/u.length));return p.length>d&&(p=p.slice(0,d)),s?p+o:o+p}},"3ece":function(e,t,n){"use strict";var r=n("7be1"),i=n.n(r);t["default"]=i.a},"3fee":function(e,t,n){},4116:function(e,t,n){},4244:function(e,t,n){"use strict";var r=n("ddd7"),i=n.n(r);t["default"]=i.a},"4b23":function(e,t,n){},"512f":function(e,t,n){"use strict";var r=n("07a3"),i=n.n(r);i.a},"524c":function(e,t,n){},"572b":function(e,t,n){"use strict";var r=n("aa97"),i=n.n(r);t["default"]=i.a},"5a5b":function(e,t,n){},"5a77":function(e,t,n){"use strict";var r=n("e4f5"),i=n.n(r);i.a},"5ecb":function(e,t,n){"use strict";var r=n("3fee"),i=n.n(r);i.a},6577:function(e,t,n){"use strict";var r=n("9a98"),i=n.n(r);t["default"]=i.a},"66b0":function(e,t,n){"use strict";var r=n("e82e"),i=n.n(r);i.a},"6d6f":function(e,t,n){"use strict";var r=n("9d7d"),i=n.n(r);i.a},"6dd0":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"background view-checkout__wrapper"},[n("div",{staticClass:"container mt--40"},[n("div",{staticClass:"header-text"},[e._v(e._s(e.$t("checkout")))]),n("div",{staticClass:"row"},[n("div",{class:"col-md-"+(e.cartItemsByStore.length?"8":"12")},e._l(e.steps,function(t){return n("div",{key:t,staticClass:"checkout-step"},[n(t,{tag:"component",attrs:{isExpanded:e.expanded===t,expand:function(){return e.expand(t)},telephone:e.telephone},on:{collapse:e.collapse,activateButton:e.activateButton,deactivateButton:e.deactivateButton},scopedSlots:e._u([{key:"edit",fn:function(){return[e.canEdit(t)?n("span",{staticClass:"customer-info-change col-xs-3",on:{click:function(n){return e.expand(t)}}},[e._v("\n                "+e._s(e.$t("edit"))+"\n                "),n("i",{staticClass:"icon icon--edit"})]):e._e()]},proxy:!0}],null,!0)}),e.expanded===t&&"review"!==t?n("span"):e._e()],1)}),0),e.cartItemsByStore.length?n("div",{staticClass:"col-md-4 payment-panel"},[n("LoadingWrapper",{attrs:{loadingKeys:[e.LOADING_KEY_ADDING_PAYMENT_METHOD]}},[n("div",{staticClass:"checkout-toprow"},[n("div",{staticClass:"checkout-toprow-left"},[e._v("\n              "+e._s(e.countItemsInCart+" "+e.$t("items"))+"\n            ")])]),n("div",{staticClass:"checkout-confirm"},[n("div",{staticClass:"grand-total"},[n("grand-total",{on:{grandTotalAmount:e.setGrandTotalAmount}})],1),n("div",{staticClass:"payment-container"},[n("div",{staticClass:"payment-headerText"},[e._v(e._s(e.$t("payment")))]),n("div",{staticClass:"checkout-payment"},[n("checkout-payment",{attrs:{isExpanded:!0},on:{activateButton:e.activateButton,deactivateButton:e.deactivateButton,onSelectedPaymentMethod:e.onSelectedPaymentMethod}})],1)]),n("CheckoutPhoneNumber",{attrs:{telephone:e.telephone,changeTelephone:e.changeTelephone}}),n("div",{staticClass:"checkout-button"},[n("base-button",{class:["primary","btn-block"],attrs:{disabled:!e.isButtonActive&&e.isShipmentFetching||e.isLoading||!e.selectedPaymentMethod},nativeOn:{click:function(t){return e.placeOrder(t)}}},[e.isLoading||e.isShipmentFetching?n("span",[n("i",{staticClass:"fa fa-spinner fa-spin"}),e._v("\n                  Â "+e._s(e.$t("processingPayment"))+"\n                ")]):n("span",[e._v(e._s(e.$t("confirmAndPay"))+"\n                  "+e._s(e._f("formatISK")(e.grandTotalAmount)))])])],1)],1)])],1):e._e()])])])},i=[],a=(n("8e6e"),n("ac6a"),n("456d"),n("7514"),n("bd86")),s=n("82ea"),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"customer-info__wrapper"},[e.isExpanded?n("div",{staticClass:"row customer-info-edit"},[n("div",{staticClass:"customer-info-edit-header"},[e._v(e._s(e.$t("headerText")))]),n("div",{staticClass:"customer-info-elements"},[n("div",{staticClass:"row"},[e._l(e.newAddress,function(t,r){return n("div",{key:r,staticClass:"col-sm-6"},[n("label",{staticClass:"label-text",attrs:{for:r}},[e._v(e._s(e.$t(r))+":")]),"checkbox"===t.type?n("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"field.value"}],attrs:{id:r,autocomplete:t.autocomplete,type:"checkbox"},domProps:{checked:Array.isArray(t.value)?e._i(t.value,null)>-1:t.value},on:{change:function(n){var r=t.value,i=n.target,a=!!i.checked;if(Array.isArray(r)){var s=null,o=e._i(r,s);i.checked?o<0&&e.$set(t,"value",r.concat([s])):o>-1&&e.$set(t,"value",r.slice(0,o).concat(r.slice(o+1)))}else e.$set(t,"value",a)}}}):"radio"===t.type?n("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"field.value"}],attrs:{id:r,autocomplete:t.autocomplete,type:"radio"},domProps:{checked:e._q(t.value,null)},on:{change:function(n){return e.$set(t,"value",null)}}}):n("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"field.value"}],attrs:{id:r,autocomplete:t.autocomplete,type:t.type},domProps:{value:t.value},on:{input:function(n){n.target.composing||e.$set(t,"value",n.target.value)}}}),t.value?e._e():n("span",{staticClass:"error-color"},[e._v(e._s(e.$t("isRequired",{fieldName:t.label})))])])}),n("div",{staticClass:"col-sm-6 address"},[n("label",{staticClass:"label-text"},[e._v(e._s(e.$t("address"))+":")]),n("div",{staticClass:"looks-like-input",on:{click:e.toggleChangeAddressModal}},[n("LocationDisplay",{staticClass:"customer-info__location",attrs:{noCheckMark:"",info:e.currDeliveryText}})],1),e.isValidAddress?e._e():n("div",{staticClass:"error-color mt--10"},[e._v("\n            "+e._s(e.$t("addressNotValid"))+"\n          ")])]),n("div",{staticClass:"col-sm-6"},[n("label",{staticClass:"label-text"},[e._v(e._s(e.$t("telephone"))+":")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.telephone,expression:"telephone"}],attrs:{type:"tel",autocomplete:"tel-local"},domProps:{value:e.telephone},on:{input:function(t){t.target.composing||(e.telephone=t.target.value)}}}),e.isValidPhoneNumber?e._e():n("span",{staticClass:"error-color"},[e._v(e._s(e.telephone?e.$t("notValidPhoneNumber"):e.$t("isRequired",{fieldName:"Telephone"})))])])],2),n("div",{staticClass:"row pb--20"},[n("div",{staticClass:"col-xs-6"},[n("base-button",{class:["primary","btn-block","confirm-button",!e.isButtonActive&&"disabled"],nativeOn:{click:function(t){e.isButtonActive&&e.collapse()}}},[e._v(e._s(e.$t("continue")))])],1),n("div",{staticClass:"col-xs-6 not-your-account"},[e._v("\n          "+e._s(e.$t("notYourAccount"))+"\n          "),n("router-link",{attrs:{to:"/checkout"},nativeOn:{click:function(t){return e.$store.dispatch("logout")}}},[e._v(e._s(e.$t("logout")))])],1)])])]):n("div",{staticClass:"row customer-info-container"},[n("div",{staticClass:"customer-info__billing-header"},[n("div",{staticClass:"customer-info-name col-xs-3"},[e._v("\n        "+e._s(e.addressName(e.userAddress))+"\n      ")]),n("div",{staticClass:"customer-info-deliveryAddress col-xs-6"},[e._v("\n        "+e._s(e.addressText?e.addressText:"")+"\n      ")]),e._t("edit")],2),e.isValidData?e._e():n("div",{staticClass:"error-color col-xs-12"},[e._v("\n      "+e._s(e.$t("invalidBillingInfo"))+"\n    ")])])])},c=[],u=(n("6b54"),n("a481"),n("7618")),l=(n("96cf"),n("3b8d")),d=n("07a4"),p=n("fce9");function h(e){return f.apply(this,arguments)}function f(){return f=Object(l["a"])(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,p["a"].put("/api/rest/checkout",t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}},e)})),f.apply(this,arguments)}var m=n("f2b0");function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(n,!0).forEach(function(t){Object(a["a"])(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var b=function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,h(t);case 2:if(n=e.sent,"success"!==n.status){e.next=6;break}return d["a"].dispatch("updatePutCheckoutKey"),e.abrupt("return",n);case 6:if("object"===Object(u["a"])(n.message)){e.next=9;break}return d["a"].dispatch("notification",{type:"error",message:n.message}),e.abrupt("return",n);case 9:return d["a"].dispatch("setError",g({errorKey:m["a"]},n.message)),e.abrupt("return",n);case 11:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),y=b,_=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"location-display-container"},[n("i",{staticClass:"icon icon--location"}),n("span",{staticClass:"location-display__info"},[e._v(e._s(e.info))]),e.noCheckMark?e._e():n("i",{staticClass:"icon icon--check-thin location-display__check-mark"})])},O=[],C={name:"LocationDisplay",props:{info:String,noCheckMark:Boolean}},S=C,w=(n("e6a7"),n("2877")),j=Object(w["a"])(S,_,O,!1,null,"2af6b0c8",null),x=j.exports,P=n("2f62"),k=n("935a");function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(n,!0).forEach(function(t){Object(a["a"])(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var A={name:"CheckoutDelivery",components:{BaseButton:s["a"],LocationDisplay:x},props:{isExpanded:Boolean,telephone:String,expand:Function},data:function(){var e=this.userBilling||{},t=e.firstname,n=void 0===t?"":t,r=e.lastname,i=void 0===r?"":r,a={firstname:{label:"First name",value:n,type:"text",autocomplete:"given-name"},lastname:{label:"Last name",value:i,type:"text",autocomplete:"family-name"}};return{newAddress:a,isButtonActive:!1,timeoutId:null}},methods:D({},Object(P["b"])(["toggleModal"]),{activateButton:function(){this.isButtonActive=!0},deactivateButton:function(){this.isButtonActive=!1},collapse:function(){this.$emit("collapse")},addressName:function(e){return e.firstname||""},saveNewAddress:function(){this.$emit("activateButton");var e=this.userAddress,t=e.firstname,n=e.lastname,r=e.telephone,i=e.street,a=e.city,s=e.postcode;clearTimeout(this.timeoutId),this.timeoutId=setTimeout(function(){y({address:{billing:{firstname:t,lastname:n,telephone:r,street:{0:i},city:a,country_id:"IS",amcustomerattr:{nationid:"0000000000"},postcode:s,use_for_shipping:1},billing_address_id:""}})},500)},saveSelectedAddress:function(){this.$emit("activateButton"),y({address:{billing:{use_for_shipping:1},billing_address_id:+this.userAddress.id}})},mapAddress:function(e){var t=e.firstname,n=e.lastname,r=e.street,i=e.postcode,a=e.city,s=e.telephone,o=e.entity_id;return{firstname:t,lastname:n,street:r,postcode:i,city:a,telephone:s,address_id:o}},saveAddressIfValid:function(){this.isValidData&&(this.isAddressNew?this.saveNewAddress():this.saveSelectedAddress())},toggleChangeAddressModal:function(){var e=this.toggleModal;e({modalKey:k["m"],isVisible:!0,preventClearCart:!0})},updateFirstNameLastName:function(e){var t=e.firstname,n=e.lastname;this.newAddress.firstname.value=t,this.newAddress.lastname.value=n}}),computed:D({},Object(P["c"])({userAddressGetter:"userAddress"}),{},Object(P["c"])(["currDeliveryText","userBilling"]),{addressText:function(){var e=this.userAddress||{},t=e.street,n=e.postcode,r=e.city,i=e.telephone;return this.isValidData&&"\n            ".concat(t,",\n            ").concat(n,"\n            ").concat(r||"","\n            (").concat(i.replace("+354",""),")\n          ")},isAddressNew:function(){return!this.userAddress.id},isValidAddress:function(){var e=this.userAddress||{},t=e.street,n=e.postcode;return t&&n&&3===n.toString().length},isValidPhoneNumber:function(){var e=this.userAddress||{},t=e.telephone;return t&&t.length>=7},isValidData:function(){var e=this.userAddress||{},t=e.firstname,n=e.lastname;return t&&n&&this.isValidAddress&&this.isValidPhoneNumber},userAddress:function(){var e=this.newAddress,t=e.firstname.value,n=e.lastname.value;return D({},this.userAddressGetter,{},{firstname:t,lastname:n},{telephone:this.telephone})}}),watch:{isValidData:function(e){e?this.activateButton():this.deactivateButton()&&this.expand()},userAddress:function(){this.saveAddressIfValid()},userAddressGetter:function(e){var t=e.firstname,n=e.lastname;(t||n)&&this.updateFirstNameLastName({firstname:t,lastname:n})},userBilling:function(e){this.updateFirstNameLastName(e)}},mounted:function(){this.isValidData?this.activateButton():this.expand(),this.saveAddressIfValid(),this.updateFirstNameLastName(this.userBilling)}},I=A,B=(n("7d4c"),n("3ece")),N=Object(w["a"])(I,o,c,!1,null,"ac4d264c",null);"function"===typeof B["default"]&&Object(B["default"])(N);var M=N.exports,$=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.paymentMethods?n("div",[e._t("default"),e.isExpanded?n("div",e._l(e.options,function(t){return n("div",{directives:[{name:"show",rawName:"v-show",value:e.isMethodVisible(t),expression:"isMethodVisible(method)"}],key:t},[e.isCheckbox(t)?n("input",{directives:[{name:"model",rawName:"v-model",value:e.isSelectedPartialCredit,expression:"isSelectedPartialCredit"}],attrs:{type:"checkbox",id:t},domProps:{checked:Array.isArray(e.isSelectedPartialCredit)?e._i(e.isSelectedPartialCredit,null)>-1:e.isSelectedPartialCredit},on:{change:function(t){var n=e.isSelectedPartialCredit,r=t.target,i=!!r.checked;if(Array.isArray(n)){var a=null,s=e._i(n,a);r.checked?s<0&&(e.isSelectedPartialCredit=n.concat([a])):s>-1&&(e.isSelectedPartialCredit=n.slice(0,s).concat(n.slice(s+1)))}else e.isSelectedPartialCredit=i}}}):n("input",{directives:[{name:"model",rawName:"v-model",value:e.selected,expression:"selected"}],attrs:{type:"radio",id:t},domProps:{value:t,checked:e._q(e.selected,t)},on:{change:function(n){e.selected=t}}}),n("label",{staticClass:"payment-methods",attrs:{for:t}},[e._v(e._s(e.$t(t,{creditISK:e.creditISK,grandTotalISK:e.grandTotalISK,last4:e.last4,last4New:e.last4New})))]),e.equalsSelected("borgunccNew",t)?n("div",[n("div",e._l(e.creditCardTypes,function(t,r){return n("label",{key:r,class:"cc-type-"+r+" card-type"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.newCard.type,expression:"newCard.type"}],attrs:{type:"radio"},domProps:{value:r,checked:e._q(e.newCard.type,r)},on:{change:function(t){return e.$set(e.newCard,"type",r)}}})])}),0),n("div",{staticClass:"card-number-box"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.newCard.number,expression:"newCard.number"}],staticClass:"card-number cc-number",class:e.ccImage(),attrs:{name:"cardnumber",autocomplete:"cc-number",placeholder:e.$t("newCardNumber")},domProps:{value:e.newCard.number},on:{keydown:function(t){return e.numberInputLengthN(16)(t,e.newCard.number)},input:function(t){t.target.composing||e.$set(e.newCard,"number",t.target.value)}}}),n("select",{directives:[{name:"model",rawName:"v-model",value:e.newCard.expirationMonth,expression:"newCard.expirationMonth"}],staticClass:"card-number short cc-mm",attrs:{name:"cc-exp-month",autocomplete:"cc-exp-month"},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.newCard,"expirationMonth",t.target.multiple?n:n[0])}}},[e._v("\n            >\n            "),n("option",{staticClass:"firstOption",attrs:{value:""}},[e._v(e._s(e.$t("mm")))]),e._l(e.range(12,1),function(t){return n("option",{key:t,domProps:{value:t}},[e._v(e._s(e._f("padZeros")(t)))])})],2),n("select",{directives:[{name:"model",rawName:"v-model",value:e.newCard.expirationYear,expression:"newCard.expirationYear"}],staticClass:"card-number short cc-yy",attrs:{name:"cc-exp-year",autocomplete:"cc-exp-year"},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.newCard,"expirationYear",t.target.multiple?n:n[0])}}},[e._v("\n            >\n            "),n("option",{staticClass:"firstOption",attrs:{value:""}},[e._v(e._s(e.$t("yy")))]),e._l(e.ccYearRange,function(t){return n("option",{key:t,domProps:{value:t}},[e._v(e._s(t))])})],2),e.newCard.verificationURL?n("BaseButton",{staticClass:"primary verification-link",nativeOn:{click:function(t){return e.open3DVerificationModal(t)}}},[e._v("\n            "+e._s(e.$t("verifyYourCard"))+"\n          ")]):e._e()],1)]):e._e(),e.equalsSelected("checkmo",t)?n("span",{staticClass:"preserve-white-space"},[e._v(e._s(e._f("trim")(e.bankTransferText)))]):e._e()])}),0):e._e()],2):e._e()},E=[],H=(n("f576"),n("55dd"),n("8615"),n("75fc")),R=(n("4917"),n("73331")),V=n("f23c"),L=n("a76f"),K=n("9505");function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(n,!0).forEach(function(t){Object(a["a"])(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Y={number:"",type:"",expirationYear:"",expirationMonth:"",verificationURL:""},G={name:"CheckoutPayment",components:{BaseButton:s["a"]},props:{isExpanded:Boolean},data:function(){return{newCard:q({},Y),selected:"",isSelectedPartialCredit:!1,paymentMethods:{},creditCardTypes:{VI:"Visa Credit",MC:"MasterCard Credit",AE:"American Express",VE:"Visa Electron",SM:"Maestro Debit",DM:"MasterCard Debit"}}},methods:q({},Object(P["b"])(["notification","toggleModal"]),{ccImage:function(){var e=this.newCard.number,t=/^(?:(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11}))$/,n=/^(?:4[0-9]{12}(?:[0-9]{3})?)$/,r=/^(?:5[1-5][0-9]{14})$/;return!!t.test(e)&&(n.test(e)?"VISA":!!r.test(e)&&"MC")},range:R["a"],isCheckbox:function(e){return"customercredit"===e&&this.credit<this.grandTotal},isMethodVisible:function(e){switch(e){case"customercredit":return!!this.credit;case"checkmo":return this.isCartOnlyDeals;case"multipayment":return!1;default:return!0}},equalsSelected:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return!n.filter(function(t){return t!==e.selected}).length},numberInputLengthN:function(e){return function(t,n){var r=!!t.key.match(/\d/),i=n.length<e,a=t.key.length>1;r&&i||a||t.preventDefault()}},triggerSaveState:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:"borgunccNew"!==this.selected||this.isNewCardReady?this.$emit("onSelectedPaymentMethod",{method:this.selected}):this.$emit("onSelectedPaymentMethod",{method:""}),e.t0=this.selected,e.next=""===e.t0?4:"borgunccNew"===e.t0?7:8;break;case 4:return e.next=6,this.saveState(!1);case 6:return e.abrupt("return",e.sent);case 7:return e.abrupt("return",this.saveState(this.isNewCardReady));case 8:return e.next=10,this.saveState(!0);case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),saveState:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(t){var n,r,i,a,s,o,c,l;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!t){e.next=12;break}return this.$emit("activateButton"),n=this.newCard,r=n.type,i=n.number,a=n.expirationMonth,s=n.expirationYear,o="borgunccNew"===this.selected?{payment:{method:"borguncc",use_internal_credit:this.isSelectedPartialCredit?1:void 0,cc_type:r,cc_number:i,cc_exp_month:a,cc_exp_year:"".concat(s)}}:{payment:{method:this.selected,use_internal_credit:"borguncc"===this.selected&&this.isSelectedPartialCredit?1:void 0}},e.next=6,Object(L["a"])(K["b"],function(){return y(o)});case 6:return c=e.sent,"error"===c.status&&(this.newCard=q({},Y),l="object"===Object(u["a"])(c.message)?this.$t("pleaseFillDeliveryData"):c.message,this.notification({type:"error",message:l}),this.selected=""),"success"===c.status&&(this.newCard.verificationURL=Object(V["a"])(c,"data.centinel_data.enabled")?Object(V["a"])(c,"data.centinel_data.iframe_url"):""),e.abrupt("return",c);case 12:this.$emit("deactivateButton");case 13:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),getAvailablePaymentMethods:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/rest/checkout").then(function(e){return e.json()});case 2:t=e.sent,n=t.payment_methods,this.paymentMethods=n;case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),open3DVerificationModal:function(){this.toggleModal({modalKey:k["a"],verificationUrl:this.newCard.verificationURL,isVisible:!0})}}),computed:q({},Object(P["c"])(["cartItems","putCheckoutKey"]),{ccYearRange:function(){var e=new Date;return Object(R["a"])(20,e.getFullYear())},isCartOnlyDeals:function(){return!this.cartItems.filter(function(e){var t=e.attribute_set_id;return 4!==t}).length},grandTotalISK:function(){return this.$options.filters.formatISK(this.grandTotal)},grandTotal:function(){return this.$store.state.quote.grand_total},credit:function(){return parseInt(this.paymentMethods.customercredit.credit_value)},creditISK:function(){return this.paymentMethods.customercredit?this.$options.filters.formatISK(this.paymentMethods.customercredit.credit_value||0):""},bankTransferText:function(){return this.paymentMethods.checkmo.mailing_address},last4New:function(){return 16===this.newCard.number.length?this.newCard.number.slice(-4):""},last4:function(){return this.paymentMethods.borguncc&&this.paymentMethods.borguncc.card_info?this.paymentMethods.borguncc.card_info.last4:""},options:function(){var e=[].concat(Object(H["a"])(Object.values(this.paymentMethods).filter(function(e){var t=e.code,n=e.card_info;return!("borguncc"===t&&!n)}).map(function(e){var t=e.code;return t})),["borgunccNew"]);return e.sort(),e},isNewCardReady:function(){var e=this.newCard,t=e.number,n=e.type,r=e.expirationMonth,i=e.expirationYear,a=16===t.length&&n.length&&r&&i;return a&&this.$emit("newCard",this.newCard),a}}),watch:{selected:function(){this.triggerSaveState()},isSelectedPartialCredit:function(){this.triggerSaveState()},isNewCardReady:function(e){e&&this.$emit("onSelectedPaymentMethod",{method:this.selected}),this.saveState(e)},putCheckoutKey:function(){this.getAvailablePaymentMethods()}},filters:{trim:function(e){return e.trim()},padZeros:function(e){return e.toString().padStart(2,"0")}},created:function(){this.getAvailablePaymentMethods(),window.commandShortcut.reTriggerSavePaymentMethod=this.triggerSaveState}},W=G,U=(n("f0f7"),n("eac4")),J=Object(w["a"])(W,$,E,!1,null,"62c86a0b",null);"function"===typeof U["default"]&&Object(U["default"])(J);var Z=J.exports,z=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("span",[e._t("default")],2),e.cartItemsByStore.length?n("div",{staticClass:"check-out-review__container"},e._l(e.cartItemsByStore,function(t){return n("CheckoutReviewStore",{key:t.id,attrs:{storeCart:t,id:t.id},on:{activateButton:e.activateButton,deactivateButton:e.deactivateButton}})}),1):n("div",{staticClass:"check-out-review__container check-out-review__empty-store"},[e._m(0),n("p",{staticClass:"empty-cart-text"},[e._v(e._s(e.$t("emptyCart")))]),n("p",{staticClass:"empty-cart-sub-text"},[e._v(e._s(e.$t("emptyCartSubtext")))]),n("router-link",{attrs:{to:"/grocery"}},[n("base-button",{staticClass:"primary btn--px-20 "},[e._v("\n        "+e._s(e.$t("gotoStore"))+"\n      ")])],1)],1)])},Q=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"emptyCartImage"},[r("img",{staticClass:"empty cart image",attrs:{alt:"empty cart",src:n("d2d2")}})])}],X=n("c249"),ee=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"checkout-box"},[n("div",{staticClass:"order-info-with-indicator",on:{click:function(t){return e.toggle(e.storeCart.name)}}},[n("i",{class:["icon icon--arrow-"+(e.isStoreExpanded(e.storeCart.name)?"down":"right")+" order-info__indicator"]}),n("div",{staticClass:"order-info-container"},[n("div",{staticClass:"order-info-name"},[e._v("\n        "+e._s(e.isDeals?e.$t("deals"):e.storeCart.name)+"\n        "),n("LastOderTimeWarning",{attrs:{id:e.storeCart.id}}),e.hasAddressForDeal(e.storeCart)?e._e():n("div",{staticClass:"order-info-delivery order-info-delivery--missing-method"},[e._v("\n          "+e._s(e.$t("dealAddressRequired"))+"\n        ")]),e.errors(e.storeCart.id).length?n("div",{staticClass:"order-info__error-list"},e._l(e.errors(e.storeCart.id),function(t){return n("div",{key:t,staticClass:"order-info-delivery order-info-delivery--missing-method"},[e._v("\n            "+e._s(e.$t(t))+"\n          ")])}),0):e._e()],1),n("div",{staticClass:"order-info-total"},[e._v("\n        "+e._s(e._f("formatISK")(e.storeCart.priceTotal))+"\n      ")]),n("div",{staticClass:"order-info-trash-btn",on:{click:function(t){return t.stopPropagation(),e.clearStoreFromCart(e.id)}}},[n("i",{staticClass:"icon icon--trash"})])])]),e._l(e.storeCart.items,function(t,r){return n("div",{directives:[{name:"show",rawName:"v-show",value:e.isStoreExpanded(e.storeCart.name),expression:"isStoreExpanded(storeCart.name)"}],key:r,staticClass:"row order-item-container"},[n("div",{staticClass:"item-image col-xs-2 col-sm-1"},[n("ImageViewer",{staticClass:"img img-responsive",attrs:{src:e.productCartImage(t),loading:"lazy",alt:t.name}})],1),n("div",{staticClass:"order-item-description col-xs-5 col-sm-6"},[e._v("\n      "+e._s(t.name)+"\n    ")]),n("div",{staticClass:"order-item-unitPrice col-xs-2 col-sm-2"},[e._v("\n      "+e._s(e._f("formatISK")(e._f("unitPrice")(t)))+"\n    ")]),n("div",{staticClass:"order-item-qty col-xs-1 col-sm-1"},[e._v(e._s(t.cart_qty))]),n("div",{staticClass:"order-item-priceTotal col-xs-2 col-sm-2"},[e._v("\n      "+e._s(e._f("formatISK")(e._f("priceTotal")(t)))+"\n    ")])])}),e.dontNeedDeliveryInfo?e._e():n("div",{staticClass:"row delivery-option-wrapper"},[n("div",{staticClass:"col-xs-12"},[n("CheckoutDeliveryInfo",{attrs:{showNoteToSeller:!e.isDeals,storeId:e.storeCart.id}})],1)])],2)},te=[],ne=(n("7f7f"),n("c5f6"),n("e700")),re=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"checkout-delivery"},[n("LoadingWrapper",{attrs:{loadingKeys:[e.fetchingShipmentsKey]}},[e.isSelectedAPickupMethod?e._e():n("div",{staticClass:"checkout-delivery__location-container"},[n("h5",{staticClass:"checkout-delivery__title"},[e._v(e._s(e.$t("deliveryOptionsTo")))]),n("div",{staticClass:"checkout-delivery__location",on:{click:e.toggleChangeAddressModal}},[e.currDeliveryText?n("LocationDisplay",{attrs:{noCheckMark:"",info:e.currDeliveryText}}):e._e()],1)]),e.shipments&&!e.shipments.length?n("div",{staticClass:"checkout-delivery__no-shipment"},[e._v("\n      "+e._s(e.$t("noShipments"))+"\n    ")]):n("div",{staticClass:"delivery-section"},[e.isDataReady?n("ul",{staticClass:"delivery-section__list"},e._l(e.shipments,function(t){return n("li",{key:t.entity_id,staticClass:"delivery-section__item"},[n("RadioBtn",{attrs:{checked:e.defaultShipment&&e.defaultShipment.entity_id===t.entity_id,value:t.entity_id,name:"shipment-option-"+e.storeId,onChange:e.changeShipmentOption}},[e._v(e._s(e.getShipmentText(t)))])],1)}),0):e._e(),n("div",{staticClass:"delivery-section__plastic-bag"},[n("SelectPlasticBagOption",{attrs:{storeId:e.storeId}})],1),n("div",{staticClass:"delivery-section__time row"},[n("ChangeDraftDeliveryTime",{attrs:{id:e.storeId}})],1),e.showNoteToSeller?n("AddNoteToSeller",{staticClass:"delivery-section__note",attrs:{storeId:e.storeId}}):e._e()],1)])],1)},ie=[],ae=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.selectedShipment?n("div",{staticClass:"delivery-time"},[n("div",{staticClass:"delivery-time__date-time-select-container"},[n("div",{staticClass:"delivery-time__date-select"},[n("div",{staticClass:"delivery-time__select-wraper icon icon--calendar"},[n("select",{on:{change:function(t){return e.handleChangeDay(t.target.value)}}},e._l(e.selectDayOptions,function(t){return n("option",{key:t.value,domProps:{selected:t.value===e.selectedDay,value:t.value}},[e._v(e._s(t.label))])}),0),n("i",{staticClass:"delivery-time__arrow-down-icon icon icon--arrow-down"})])]),e.selectedShipment.hide_preorder_time?e._e():n("div",{staticClass:"delivery-time__time-select"},[n("div",{staticClass:"delivery-time__select-wraper icon icon--clock"},[n("select",{on:{change:e.handleChangeHour}},[n("option",{attrs:{value:"",disabled:"",hidden:""},domProps:{selected:!e.selectedHour}},[e._v(e._s(e.$t("selectHour")))]),e._l(e.deliveryHourOptions,function(t){var r=t.label,i=t.value;return n("option",{key:i,domProps:{value:i,selected:i===e.selectedHour}},[e._v(e._s(r))])})],2),n("i",{staticClass:"delivery-time__arrow-down-icon icon icon--arrow-down"})])])])]):e._e()},se=[],oe=(n("6762"),n("2fdb"),n("20d6"),n("768b")),ce=n("f0f8"),ue=n("1503"),le=n("9225"),de=n("7598");function pe(e){return 0===e}function he(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2;return function(t,n){var r=Object(de["g"])(t),i=Object(de["g"])(n),a=Object(R["a"])(e*(i-r),1).map(function(t){return r+t/e}).map(function(e){var t="".concat(Math.floor(e)).padStart(2,"0"),n="".concat((e%1*60).toFixed(0)).padStart(2,"0");return"".concat(t,":").concat(n)});return a}}var fe=function(e){var t=e.whichDay,n=e.openingHours,r=Object(de["e"])(Object(de["i"])(t))(n),i=Object(oe["a"])(r,1),a=i[0],s=void 0===a?[]:a;return s.length&&"closed"!==s[1]},me=function(e){switch(e){case 0:return"today";case 1:return"tomorrow";default:return Object(de["i"])(e)}};function ve(e){var t=e.selectedDay,n=e.selectedShipment,r=e.openingHours,i=e.isOpen,a=Object(V["a"])(n,"minimum_preorder_delay",ue["e"]),s=Math.ceil(2*a/60)/2,o=pe(t)&&i?[{label:le["a"].t("asap"),value:"NULL"}]:[],c=Object(de["e"])(Object(de["i"])(t))(r),u=c.reduce(function(e,n){var r=Object(oe["a"])(n,3),a=r[1],o=r[2];return[].concat(Object(H["a"])(e),Object(H["a"])(he(2)(a,o).filter(function(e){return!pe(t)||!i||Object(de["g"])(e)>Object(de["c"])()+s})))},[]),l=0;if(l&&u.length){var d=Object(V["a"])(c,"0",[]),p=Object(oe["a"])(d,3),h=p[1],f=p[2],m=ge({openTimeStr:h,closeTimeStr:f,availableTimeStrList:u,preorder_time_window:l});return[].concat(o,Object(H["a"])(m.map(function(e){var t=e.startTimeStr,n=e.endTimeStr;return{label:"".concat(t," - ").concat(n),value:t}})))}return[].concat(o,Object(H["a"])(u.map(function(e){return{label:e,value:e}})))||[]}function ge(e){var t=e.openTimeStr,n=e.closeTimeStr,r=e.availableTimeStrList,i=e.preorder_time_window,a=be({openTimeStr:t,closeTimeStr:n,preorder_time_window:i}),s=ye({beginTimeStr:r[0],allTimeSlots:a});return s}function be(e){var t=e.openTimeStr,n=e.closeTimeStr,r=e.preorder_time_window,i=[];if(![t,n].every(Boolean))return i;var a=6e4*r,s=Object(de["b"])(n),o=Object(de["b"])(t);do{var c=Object(de["a"])(o);o=new Date(+o+a);var u=Object(de["a"])(o);i.push({startTimeStr:c,endTimeStr:u})}while(+o+a<=+s);return i}function ye(e){var t=e.beginTimeStr,n=e.allTimeSlots,r=n.findIndex(function(e){var n=e.startTimeStr,r=e.endTimeStr;return Object(de["g"])(n)<Object(de["g"])(t)&&Object(de["g"])(t)<=Object(de["g"])(r)});return-1===r?[]:n.slice(r+1)}var _e=function(e){var t=e.selectedShipment,n=e.openingHours,r=e.isOpen,i=e.lastOrderTime;if(!t||!n)return[];var a=Object(R["a"])(7).filter(function(e){return fe({whichDay:e,openingHours:n})}).map(function(e){return{label:le["a"].t(me(e)),value:e}}),s=0,o=ve({selectedDay:s,selectedShipment:t,openingHours:n,isOpen:r,lastOrderTime:i});if(o&&o.length<=1){var c=Object(ce["a"])({openingHours:n}),u=c.nextChangeDate,l=u||r,d=l&&+new Date<+u-6e4*i;d||a.shift(1)}return a},Oe=n("8576");function Ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ce(n,!0).forEach(function(t){Object(a["a"])(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ce(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var we={name:"ChangeDraftDeliveryTime",mixins:[Oe["a"]],props:{id:Number},computed:Se({},Object(P["c"])(["getSelectedShipmentByStoreId","getSelectedPreOrderHourByStoreId","getSelectedPreOrderDayByStoreId","getPreorderTimeFromCart"]),{selectedShipment:function(){var e=this.getSelectedShipmentByStoreId,t=this.id;return e(t)},selectedDay:function(){var e=this.getSelectedPreOrderDayByStoreId,t=this.id;return e(t)},selectedHour:function(){var e=this.getSelectedPreOrderHourByStoreId,t=this.id;return e(t)},selectDayOptions:function(){var e=this.selectedShipment,t=this.openStatus,n=this.openingHours,r=this.merchant;return _e({selectedShipment:e,openingHours:n,isOpen:t.isOpen,lastOrderTime:Object(V["a"])(r,"last_order_time",30)})},deliveryHourOptions:function(){var e=this.selectedShipment,t=this.openStatus,n=this.openingHours,r=this.selectedDay,i=this.merchant;return ve({selectedDay:r,selectedShipment:e,openingHours:n,isOpen:t.isOpen,lastOrderTime:Object(V["a"])(i,"last_order_time",30)})},chosePreorderTimeFromCart:function(){var e=this.getPreorderTimeFromCart,t=this.id;return e(t)}}),methods:Se({},Object(P["b"])(["setSelectedPreOrderHourByStore","setSelectedPreOrderDayByStore","addPreorderTimeToCart"]),{handleChangeDay:function(e){var t=this.setSelectedPreOrderDayByStore,n=this.addPreorderTimeToCart,r=this.id,i=this.deliveryHourOptions;t({storeId:r,selectedOption:e}),n({storeId:r,selectedDay:e,deliveryHours:i})},handleChangeHour:function(e){var t=this.setSelectedPreOrderHourByStore,n=this.id,r=this.addPreorderTimeToCart,i=this.deliveryHourOptions,a=this.selectedDay,s=e.target.value;t({storeId:n,selectedOption:s}),r({storeId:n,selectedDay:a,deliveryHours:i,selectedTime:s})},syncSeletedPreorderTime:function(){var e=this.id,t=this.chosePreorderTimeFromCart;t&&(this.setSelectedPreOrderDayByStore({storeId:e,selectedOption:t.selectedDay}),this.setSelectedPreOrderHourByStore({storeId:e,selectedOption:t.selectedHour}))}}),mounted:function(){this.syncSeletedPreorderTime()},watch:{selectDayOptions:function(e,t){if(e.length!==t.length){var n=e.map(function(e){var t=e.value;return t});n.includes(this.selectedDay)||this.handleChangeDay(Object(V["a"])(n,"0",0))}}}},je=we,xe=(n("e933"),n("4244")),Pe=Object(w["a"])(je,ae,se,!1,null,"c2fa4336",null);"function"===typeof xe["default"]&&Object(xe["default"])(Pe);var ke=Pe.exports,Te=n("022f"),De=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.plasticBagOptionsAvailable?n("div",{staticClass:"select-plastic-bag"},[n("div",{staticClass:"select-pastic-bag__select-wraper icon icon--shopping-basket"},[n("select",{on:{change:e.changePlasticBagOption}},[n("option",{attrs:{disabled:"",hidden:""},domProps:{selected:void 0===e.selectedPlasticBagOption.value}},[e._v("\n        "+e._s(e.$t("choosePackagingMethod"))+"\n      ")]),e._l(e.plasticBagOptions,function(t){return n("option",{key:t.value,domProps:{selected:t.value===e.selectedPlasticBagOption.value,value:t.value}},[e._v(e._s(t.label))])})],2),n("i",{staticClass:"select-pastic-bag__arrow-down-icon icon icon--arrow-down"})])]):e._e()},Ae=[],Ie=n("7b06");function Be(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Be(n,!0).forEach(function(t){Object(a["a"])(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Be(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Me={name:"SelectPlasticBagOption",props:{storeId:Number},computed:Ne({},Object(P["c"])(["getStorePlasticBagOptions","getCheckoutErrorByStore"]),{storePlasticBagOptions:function(){var e=this.getStorePlasticBagOptions,t=this.storeId;return e(t)||[]},selectedPlasticBagOption:function(){return{}},plasticBagOptions:function(){var e=this.storePlasticBagOptions;return e.map(function(e){return{value:e.entity_id,label:Object(Ie["a"])(e)}})},errors:function(){return this.getCheckoutErrorByStore(this.storeId)},plasticBagOptionsAvailable:function(){var e=this.storePlasticBagOptions;return Object(V["a"])(e,"0.is_in_stock")}}),methods:Ne({},Object(P["b"])(["addPlasticBagToCart","setError"]),{changePlasticBagOption:function(e){var t=+e.target.value,n=this.addPlasticBagToCart,r=this.storeId,i=this.storePlasticBagOptions,a=this.setError,s=i.find(function(e){return e.entity_id===t});n({storeId:r,plasticBag:s}),a({errorKey:m["a"]})}}),beforeDestroy:function(){this.setError({errorKey:m["a"]})}},$e=Me,Ee=(n("66b0"),n("fabd")),He=Object(w["a"])($e,De,Ae,!1,null,"e98d3348",null);"function"===typeof Ee["default"]&&Object(Ee["default"])(He);var Re=He.exports,Ve=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("label",{staticClass:"radio-btn"},[e._t("default"),n("input",{staticClass:"radio-btn__input",attrs:{type:"radio",name:e.name},domProps:{checked:e.checked,value:e.value},on:{change:e.handleChange}}),n("span",{staticClass:"radio-btn__checkmark"})],2)},Le=[],Ke={name:"RadioBtn",props:{checked:Boolean,name:String,onChange:Function,value:void 0},methods:{handleChange:function(e){e.target.checked=this.checked,this.onChange(e)}}},Fe=Ke,qe=(n("1ea1"),Object(w["a"])(Fe,Ve,Le,!1,null,"1086162c",null)),Ye=qe.exports,Ge=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"add-note-to-seller"},[n("CheckBox",{staticClass:"add-note-to-seller__checkbox",attrs:{checked:e.isMessageAreaVisible,onChange:e.toggleMessageArea}},[e._v(e._s(e.$t("addNoteToSeller")))]),e.isMessageAreaVisible?n("textarea",{staticClass:"add-note-to-seller__note-area",attrs:{name:"noteToSeller",rows:"6"},on:{input:e.onNoteChange}}):e._e()],1)},We=[],Ue=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("label",{staticClass:"check-box"},[e._t("default"),n("input",{staticClass:"check-box__input",attrs:{type:"checkbox",name:e.name},domProps:{checked:e.checked,value:e.value},on:{change:e.onChange}}),n("span",{staticClass:"check-box__checkmark"})],2)},Je=[],Ze={name:"CheckBox",props:{checked:Boolean,name:String,onChange:Function,value:void 0}},ze=Ze,Qe=(n("6ed0"),Object(w["a"])(ze,Ue,Je,!1,null,"044a629a",null)),Xe=Qe.exports;function et(e){return tt.apply(this,arguments)}function tt(){return tt=Object(l["a"])(regeneratorRuntime.mark(function e(t){var n,r,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.storeId,r=t.note,e.next=3,p["a"].put("/api/rest/cart",{product:n,customernote:r});case 3:return i=e.sent,e.abrupt("return",i);case 5:case"end":return e.stop()}},e)})),tt.apply(this,arguments)}var nt={name:"AddNoteToSeller",components:{CheckBox:Xe},props:{storeId:Number},data:function(){return{isMessageAreaVisible:!1}},methods:{toggleMessageArea:function(e){var t=this.deboundAddNote;this.isMessageAreaVisible=e.target.checked,e.target.checked||t("")},deboundAddNote:function(e){var t=this.storeId;clearTimeout(this.deboundAddNoteTimer),this.deboundAddNoteTimer=setTimeout(function(){return et({storeId:t,note:e})},500)},onNoteChange:function(e){var t=this.deboundAddNote,n=e.target.value;t(n)}}},rt=nt,it=(n("2a91"),n("d44d")),at=Object(w["a"])(rt,Ge,We,!1,null,"8bdf1486",null);"function"===typeof it["default"]&&Object(it["default"])(at);var st=at.exports;function ot(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ct(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ot(n,!0).forEach(function(t){Object(a["a"])(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ot(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var ut={name:"CheckoutDeliveryInfo",components:{LocationDisplay:x,AddNoteToSeller:st,ChangeDraftDeliveryTime:ke,RadioBtn:Ye,LoadingWrapper:Te["a"],SelectPlasticBagOption:Re},props:{storeId:Number,showNoteToSeller:{type:Boolean,default:!0}},data:function(){return{isDataReady:!1}},methods:ct({},Object(P["b"])(["toggleLoading","toggleModal","addShipmentToCart","setSelectedShipmentOptionByStore","syncSelectedShipmentWithCart","removeShipmentInCart"]),{getShipmentText:function(e){return Object(Ie["a"])(e)},changeShipmentOption:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(t){var n,r,i,a,s,o,c,u;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=this.addShipmentToCart,r=this.shipments,i=this.userAddress,a=this.storeId,s=this.toggleLoading,o=this.fetchingShipmentsKey,c=t.target.value,s({loadingKey:o,isLoading:!0}),u=(r||[]).find(function(e){return e.entity_id===+c}),e.prev=4,e.next=7,n({shipment:u,shipmentPostcode:i.postcode,storeId:a});case 7:e.sent,e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](4),console.log("changeShipmentOption -> error",e.t0);case 13:s({loadingKey:o,isLoading:!1});case 14:case"end":return e.stop()}},e,this,[[4,10]])}));function t(t){return e.apply(this,arguments)}return t}(),toggleChangeAddressModal:function(){var e=this.toggleModal;e({modalKey:k["m"],isVisible:!0,preventClearCart:!0})}}),computed:ct({},Object(P["c"])(["deliveryData","currDeliveryText","getAvailableStoreShipmentsById","userAddress","getShipmentDataFromCart","getCheckoutFetchingShipmentKey","getSelectedShipmentByStoreId","fulfillmentMethod"]),{fetchingShipmentsKey:function(){var e=this.getCheckoutFetchingShipmentKey,t=this.storeId;return e(t)},defaultShipment:function(){var e=this.choseCartShipment,t=this.shipments;return t&&e?t.find(function(t){return e.product_id===t.entity_id}):null},choseCartShipment:function(){var e=this.getShipmentDataFromCart,t=this.storeId;return e(t)},isSelectedAPickupMethod:function(){return Object(V["a"])(this.choseCartShipment,"deal_address")===ue["h"]},shipments:function(){var e=this.storeId,t=this.getAvailableStoreShipmentsById;return t(e)}}),mounted:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){var t,n,r,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this.storeId,n=this.syncSelectedShipmentWithCart,r=this.toggleLoading,i=this.fetchingShipmentsKey,this.isDataReady=!1,r({loadingKey:i,isLoading:!0}),e.next=5,n({storeId:t});case 5:r({loadingKey:i,isLoading:!1}),this.isDataReady=!0;case 7:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),updated:function(){if(this.isDataReady){var e=this.getSelectedShipmentByStoreId(this.storeId);if(this.fulfillmentMethod===ue["f"].PICKUP&&!e&&this.shipments){var t=this.shipments&&this.shipments.filter(function(e){return e.deal_address===ue["h"]});1===t.length&&0===t[0].has_options&&this.changeShipmentOption({target:{value:t[0].entity_id}})}}},watch:{shipments:function(e){var t=this.choseCartShipment,n=this.removeShipmentInCart;if(t){var r=e.find(function(e){return e.entity_id===t.product_id});r||n({shipmentId:t.product_id})}},choseCartShipment:function(e){var t=this.shipments.find(function(t){return t.entity_id===e.product_id}),n=this.storeId;this.setSelectedShipmentOptionByStore({selectedOption:t,storeId:n,clearAllStoreDeliveryOption:!0})}}},lt=ut,dt=(n("6d6f"),n("e9cf")),pt=Object(w["a"])(lt,re,ie,!1,null,"41e86342",null);"function"===typeof dt["default"]&&Object(dt["default"])(pt);var ht=pt.exports,ft=n("f627"),mt=n("b773"),vt=n("d758");function gt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function bt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gt(n,!0).forEach(function(t){Object(a["a"])(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gt(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var yt={name:"CheckoutReviewStore",props:{storeCart:Object,id:Number},components:{CheckoutDeliveryInfo:ht,ImageViewer:ne["a"],LastOderTimeWarning:ft["a"]},mixins:[mt["a"],X["a"],vt["a"]],data:function(){return{isExpanded:{}}},computed:bt({},Object(P["c"])(["isMissingAddressData","getCheckoutErrorByStore"]),{dontNeedDeliveryInfo:function(){return Object(V["a"])(this.storeCart,"items",[]).every(function(e){return e.attribute_set_id===ue["b"].DAILY_DEALS&&e.deal_address===ue["f"].PICKUP})},isDeals:function(){return!this.storeCart.name}}),methods:bt({},Object(P["b"])(["toggleModal","fetchStoreShipmentsById"]),{isStoreExpanded:function(e){return!!this.isExpanded[e]},toggle:function(e){this.$set(this.isExpanded,e,!this.isStoreExpanded(e))},productCartImage:function(e){return"https://images.aha.is/image/upload/f_auto,h_60/products/"+e.product_img},hasAddressForDeal:function(e){var t=e.id;if(t)return this.$emit("activateButton"),!0;var n=this.isMissingAddressData;return e.items.some(function(e){return 1===e.deal_address})&&n?(this.$emit("deactivateButton"),!1):(this.$emit("activateButton"),!0)},errors:function(e){var t=this.getCheckoutErrorByStore(e);return Object.values(t||{})}}),filters:{unitPrice:function(e){return console.log("unitPrice -> item",e),e.price_incl_tax-(+e.discount_amount||0)/e.cart_qty},priceTotal:function(e){return e.cart_qty*e.price_incl_tax-(+e.discount_amount||0)}}},_t=yt,Ot=(n("06c9"),n("572b")),Ct=Object(w["a"])(_t,ee,te,!1,null,"cb601a48",null);"function"===typeof Ot["default"]&&Object(Ot["default"])(Ct);var St=Ct.exports,wt={name:"CheckoutReview",components:{CheckoutReviewStore:St,BaseButton:s["a"]},mixins:[X["a"]],methods:{activateButton:function(){this.$emit("activateButton")},deactivateButton:function(){this.$emit("deactivateButton")}}},jt=wt,xt=(n("5a77"),n("284e")),Pt=Object(w["a"])(jt,z,Q,!1,null,"156335d6",null);"function"===typeof xt["default"]&&Object(xt["default"])(Pt);var kt=Pt.exports,Tt=n("da7e"),Dt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"checkout-phone-number"},[n("label",{staticClass:"checkout-phone-number__header"},[e._v(e._s(e.$t("telephone"))+":")]),n("div",{staticClass:"checkout-phone-number__info"},[n("i",{staticClass:"icon icon--info"}),n("span",[e._v(e._s(e.$t("telephoneInfo")))])]),n("input",{staticClass:"app-input",attrs:{type:"tel",autocomplete:"tel-local"},domProps:{value:e.telephone},on:{input:function(t){return e.changeTelephone(t.target.value)}}})])},At=[],It={props:{telephone:String,changeTelephone:Function}},Bt=It,Nt=(n("a2d2"),n("900c")),Mt=Object(w["a"])(Bt,Dt,At,!1,null,"432739bc",null);"function"===typeof Nt["default"]&&Object(Nt["default"])(Mt);var $t=Mt.exports,Et=n("bebd");function Ht(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Rt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ht(n,!0).forEach(function(t){Object(a["a"])(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ht(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Vt={name:"ViewCheckout",mixins:[X["a"]],components:{BaseButton:s["a"],delivery:M,review:kt,CheckoutPayment:Z,GrandTotal:Tt["a"],CheckoutPhoneNumber:$t,LoadingWrapper:Te["a"]},data:function(){return{isLoading:!1,expanded:"review",isButtonActive:!1,grandTotalAmount:0,selectedPaymentMethod:"",telephone:"",LOADING_KEY_ADDING_PAYMENT_METHOD:K["b"]}},computed:Rt({},Object(P["c"])(["getCheckoutFetchingShipmentKey","getLoadingState","billingPhoneNumber"]),{isShipmentFetching:function(){var e=this.getCheckoutFetchingShipmentKey,t=this.getLoadingState,n=this.cartItemsByStore;return n.some(function(n){return t(e(n.id))})},countItemsInCart:function(){return Object(Et["a"])(this.$store.state.cartItems).reduce(function(e,t){var n=t.cart_qty;return e+n},0)},steps:function(){return[this.isAddressRequired&&"delivery","review"].filter(Boolean)},nextStep:function(){var e=this.currentIndex,t=this.steps;return t[e+1]},currentIndex:function(){var e=this.expanded,t=this.steps;return t.indexOf(e)},isAddressRequired:function(){return!!this.$store.state.cartItems.map(function(e){var t=e.deal_address;return t}).find(function(e){return e===ue["g"]})}}),methods:Rt({},Object(P["b"])(["loadCart","setNavBarTitle"]),{removeShipmentItems:Et["a"],setGrandTotalAmount:function(e){this.grandTotalAmount=e},activateButton:function(){this.isButtonActive=!0},deactivateButton:function(){this.isButtonActive=!1},placeOrder:function(){var e=this;this.isLoading=!0,y({place:1}).then(function(t){"success"===t.status&&(e.$router.push({name:"success",params:{orderId:t.data.order_ids.main_order}}),e.loadCart())}).finally(function(){e.isLoading=!1})},isExpanded:function(e){return this.expanded===e},collapse:function(){this.expanded=this.nextStep},expand:function(e){this.expanded=e},canEdit:function(e){var t=this.currentIndex,n=this.steps,r=n.indexOf(e);return r<t},onSelectedPaymentMethod:function(e){this.selectedPaymentMethod=e.method},changeTelephone:function(e){this.telephone=e}}),mounted:function(){this.setNavBarTitle({en:"Checkout",is:"Ganga frÃ¡ pÃ¶ntun"}),this.changeTelephone(this.billingPhoneNumber)},watch:{billingPhoneNumber:function(e){this.changeTelephone(e)}}},Lt=Vt,Kt=(n("5ecb"),n("093b")),Ft=Object(w["a"])(Lt,r,i,!1,null,"2fc345bb",null);"function"===typeof Kt["default"]&&Object(Kt["default"])(Ft);t["default"]=Ft.exports},"6ed0":function(e,t,n){"use strict";var r=n("bea6"),i=n.n(r);i.a},73331:function(e,t,n){"use strict";n("ac6a");var r=n("75fc");t["a"]=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Object(r["a"])(Array(Math.floor(e)).keys()).map(function(e){return e+t})}},7838:function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"is":{"checkout":"Ganga frÃ¡ pÃ¶ntun","delivery":"Heimilisfang","payment":"GreiÃ°slumÃ¡ti","review":"Yfirfara pÃ¶ntun","edit":"Breyta","confirmAndPay":"StaÃ°festa og greiÃ°a","items":"vÃ¶rur","processingPayment":"Augnablik"},"en":{"checkout":"Checkout","delivery":"Delivery Address","payment":"Payment Method","review":"Review Order","edit":"Edit","confirmAndPay":"Confirm & Pay","item":"items","processingPayment":"Processing"}}'),delete e.options._Ctor}},"7be1":function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"is":{"newAddress":"NÃ½tt heimilisfang","continue":"Halda Ã¡fram","firstname":"Fornafn","lastname":"Eftirnafn","address":"Heimilisfang","notYourAccount":"Ekki rÃ©ttur notandi?","headerText":"Billing info","addressNotValid":"Address is not valid","notValidPhoneNumber":"Phone number is not valid","invalidBillingInfo":"Your billing info is not valid","logout":"ÃtskrÃ¡"},"en":{"newAddress":"New address","continue":"Continue","firstname":"First name","lastname":"Last name","address":"Address","notYourAccount":"Not your account?","headerText":"Billing info","addressNotValid":"Address is not valid","notValidPhoneNumber":"Phone number is not valid","invalidBillingInfo":"Your billing info is not valid","logout":"Log out"}}'),delete e.options._Ctor}},"7d4c":function(e,t,n){"use strict";var r=n("4b23"),i=n.n(r);i.a},8576:function(e,t,n){"use strict";n("8e6e"),n("ac6a"),n("456d");var r=n("bd86"),i=n("9870"),a=n("f0f8");function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(n,!0).forEach(function(t){Object(r["a"])(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}t["a"]={name:"openStatus",mixins:[i["a"]],computed:{openStatus:function(){var e=Object(a["a"])({openingHours:this.openingHours});return o({},e,{nextChange:e.nextChangeTimeStr})}}}},"900c":function(e,t,n){"use strict";var r=n("c593"),i=n.n(r);t["default"]=i.a},9744:function(e,t,n){"use strict";var r=n("4588"),i=n("be13");e.exports=function(e){var t=String(i(this)),n="",a=r(e);if(a<0||a==1/0)throw RangeError("Count can't be negative");for(;a>0;(a>>>=1)&&(t+=t))1&a&&(n+=t);return n}},9870:function(e,t,n){"use strict";var r=n("b773"),i=n("7598");t["a"]={name:"openingHours",mixins:[r["a"]],computed:{openingHours:function(){var e=this.merchant||{},t=e.restaurant_opening_time,n=void 0===t?"":t,r=e.restaurant_open_date,a=void 0===r?"":r,s=e.open_dates,o=void 0===s?"":s,c=e.open_date,u=void 0===c?"":c,l=e.open_days,d=void 0===l?"":l;return Object(i["d"])({restaurant_opening_time:n||d,restaurant_open_date:a||o||u})}}}},9902:function(e,t,n){},"9a98":function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"en":{"lastOrderIn":"Last order in {minute} minutes"},"is":{"lastOrderIn":"SÃ­Ã°asta pÃ¶ntun eftir {minute} mÃ­nÃºtur"}}'),delete e.options._Ctor}},"9d7d":function(e,t,n){},"9f9d":function(e,t,n){},a116:function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"is":{"choosePackagingMethod":"Veldu pÃ¶kkunarmÃ¡ta"},"en":{"choosePackagingMethod":"Choose your packaging method"}}'),delete e.options._Ctor}},a2d2:function(e,t,n){"use strict";var r=n("e79c"),i=n.n(r);i.a},a6d7:function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"is":{"deliveryOptionsTo":"AfhendingarmÃ¡tar","noShipments":"ÃaÃ° eru engir sendingarmÃ¶guleikar Ã¡ Ã¾itt heimilisfang"},"en":{"deliveryOptionsTo":"Delivery options to","noShipments":"There is no shipments options for your address"}}'),delete e.options._Ctor}},aa97:function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"is":{"item":"Vara","seller":"SÃ¶luaÃ°ili","quantity":"FjÃ¶ldi","unitPrice":"StykkjaverÃ°","price":"VerÃ°","total":"Samtals","confirmAndPay":"StaÃ°festa og greiÃ°a","processingPayment":"StaÃ°festi greiÃ°slu...","deals":"TilboÃ°","shipment_required":"Veldu sendingarmÃ¡ta","dealAddressRequired":"Veldu heimilisfang","plastic_bags_required":"Veldu pÃ¶kkunarmÃ¡ta"},"en":{"item":"Item","seller":"Seller","quantity":"Quantity","unitPrice":"Unit Price","price":"Price","total":"Total","confirmAndPay":"Confirm & Pay","processingPayment":"Processing payment...","deals":"Deals","shipment_required":"A delivery method is required","dealAddressRequired":"Your address is required for those deal products","plastic_bags_required":"Packaging method is required"}}'),delete e.options._Ctor}},af00:function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"is":{"emptyCart":"Karfan Ã¾Ã­n er tÃ³m","emptyCartSubtext":"Fylltu Ã¡ hana Ã¡ Aha.is","gotoStore":"Go to Aha\'s store"},"en":{"emptyCart":"Your cart is empty","emptyCartSubtext":"Better start shopping with Aha.is","gotoStore":"Go to Aha\'s store"}}'),delete e.options._Ctor}},b6aa:function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"is":{"pleaseFillDeliveryData":"Vinsamlegast fylltu fyrst nauÃ°synleg afhendingargÃ¶gn","customercredit":"Inneign ({creditISK})","borguncc":"GreiÃ°slukort {last4}","borgunccNew":"NÃ½tt greiÃ°slukort {last4New}","checkmo":"MillifÃ¦rsla","total":"Samtals","newCardNumber":"KortanÃºmer","yy":"Ãr","mm":"MÃ¡n","free":"Ãkeypis!","verifyYourCard":"Click here to verify your card","multipayment":"GreiÃ°sludreifing"},"en":{"pleaseFillDeliveryData":"Please fill all required delivery data first","customercredit":"Internal credit ({creditISK})","borguncc":"Credit/Debit card {last4}","borgunccNew":"New credit/debit card {last4New}","checkmo":"Bank transfer","total":"Total","newCardNumber":"Card number","yy":"Year","mm":"Month","free":"Free of charge!","verifyYourCard":"Click here to verify your card","multipayment":"Multipayment"}}'),delete e.options._Ctor}},b773:function(e,t,n){"use strict";n("6762"),n("2fdb"),n("ac6a"),n("8615"),n("96cf");var r=n("3b8d"),i=(n("28a5"),n("bc3a")),a=n.n(i),s=n("1503");t["a"]={name:"merchant",data:function(){return{merchant:void 0,shipments:[]}},props:{existingMerchant:Object},computed:{availablePostCodes:function(){var e=this.merchant.price_by_postcode,t=e.split(",").map(function(e){return e.split(":")[0]});return t},supportPickupShipment:function(){return this.shipments.some(function(e){return e.deal_address===s["h"]})}},methods:{getMerchantInfo:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(){var t,n,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.id){e.next=2;break}return e.abrupt("return");case 2:return t=new URLSearchParams,t.append("service","seller_info"),t.append("id",this.id),t.append("shipments",1),e.next=8,a.a.post("/ws.php",t);case 8:return n=e.sent,r=n.data[0][0],this.merchant=r,this.shipments=Object.values(n.data[1]),e.abrupt("return",r);case 13:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),checkValidPostalCode:function(e){return!!this.availablePostCodes.includes("*")||this.availablePostCodes.includes(e)}},watch:{id:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getMerchantInfo();case 2:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},mounted:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(e.t0=this.merchant||this.existingMerchant,e.t0){e.next=5;break}return e.next=4,this.getMerchantInfo();case 4:e.t0=e.sent;case 5:this.merchant=e.t0;case 6:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()}},bea6:function(e,t,n){},c593:function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"is":{"telephone":"SÃ­manÃºmer viÃ°takanda","telephoneInfo":"ViÃ° notum sÃ­manÃºmeriÃ° til aÃ° hafa samband og senda Ã¾Ã©r skeyti um stÃ¶Ã°u pÃ¶ntunarinnar."},"en":{"telephone":"Recipient\'s phone no.","telephoneInfo":"We will use your phone number to contact you and send you updates regarding your order."}}'),delete e.options._Ctor}},d1e8:function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"is":{"addNoteToSeller":"SkilaboÃ° til seljanda"},"en":{"addNoteToSeller":"Add note to the seller"}}'),delete e.options._Ctor}},d44d:function(e,t,n){"use strict";var r=n("d1e8"),i=n.n(r);t["default"]=i.a},ddd7:function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"is":{"whenToGetFood":"HvenÃ¦r viltu fÃ¡ afhent?","selectHour":"Veldu tÃ­ma"},"en":{"whenToGetFood":"When do you want delivery?","selectHour":"Select time"}}'),delete e.options._Ctor}},e4f5:function(e,t,n){},e6a7:function(e,t,n){"use strict";var r=n("5a5b"),i=n.n(r);i.a},e79c:function(e,t,n){},e82e:function(e,t,n){},e933:function(e,t,n){"use strict";var r=n("9f9d"),i=n.n(r);i.a},e9cf:function(e,t,n){"use strict";var r=n("a6d7"),i=n.n(r);t["default"]=i.a},eac4:function(e,t,n){"use strict";var r=n("b6aa"),i=n.n(r);t["default"]=i.a},f0f7:function(e,t,n){"use strict";var r=n("524c"),i=n.n(r);i.a},f0f8:function(e,t,n){"use strict";n.d(t,"a",function(){return v});n("6762"),n("2fdb"),n("7514"),n("20d6");var r=n("75fc"),i=n("768b"),a=(n("55dd"),n("7598")),s=n("f23c"),o=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],c=o.reduce(function(e,t,n){return e[t]=n,e},{});function u(e){var t=e.openingHours;return JSON.parse(JSON.stringify(t)).sort(function(e,t){var n=Object(i["a"])(e,2),r=n[0],s=n[1],o=Object(i["a"])(t,2),u=o[0],l=o[1],d=c[r]-c[u];return 0!==d?d:Object(a["g"])(s)-Object(a["g"])(l)})}function l(e){var t=e.openingHours,n=e.dayStr,s=u({openingHours:t}),o=Object(a["e"])(n)(s).reduce(function(e,t,n){var a=Object(i["a"])(t,3),s=a[1],o=a[2];if(0===n)return[].concat(Object(r["a"])(e),[t]);var c=Object(i["a"])(e[e.length-1],3),u=c[2];return u===s?(e[e.length-1][2]=o,e):[].concat(Object(r["a"])(e),[t])},[]);return o}function d(e){var t=e.openingHours,n=u({openingHours:t}),i=u({openingHours:o.reduce(function(e,t){return[].concat(Object(r["a"])(e),Object(r["a"])(l({openingHours:n,dayStr:t})))},[])});return i}function p(e){var t=e.openingHours,n=e.selectedDayStr,s=d({openingHours:t}),o=Object(a["e"])(n)(s)||[],c=o.length&&o.every(function(e){var t=Object(i["a"])(e,2),n=t[1];return"closed"!==n});if(c)return{selectedDayOpenHour:o,nextOpenTimeStr:o[0][1],nextOpenDayStr:o[0][0]};for(var u=s.findIndex(function(e){var t=Object(i["a"])(e,1),r=t[0];return r===n}),l=[].concat(Object(r["a"])(s.slice(u)),Object(r["a"])(s.slice(0,u))).filter(function(e){var t=Object(i["a"])(e,1),r=t[0];return r!==n}),p=null,h=null,f=0;f<l.length;f++){var m=Object(i["a"])(l[f],3),v=m[0],g=m[1];m[2];if("closed"!==g){p=g,h=v;break}}return{selectedDayOpenHour:o,nextOpenTimeStr:p,nextOpenDayStr:h}}function h(e){for(var t=e.openingHours,n=Object(a["i"])(0),s=d({openingHours:t}),o=s.findIndex(function(e){var t=Object(i["a"])(e,1),r=t[0];return r===n}),c=[].concat(Object(r["a"])(s.slice(o)),Object(r["a"])(s.slice(0,o))),u=null,l=null,p=function(e,t){return e===t||"00:00"===e&&"24:00"===t||"24:00"===e&&"00:00"===t},h=0;h<c.length-1;h++){var f=Object(i["a"])(c[h],3),m=f[0],v=(f[1],f[2]),g=Object(i["a"])(c[h+1],3),b=g[0],y=g[1],_=g[2];if(h!==c.length-2||p(_,c[0][1])||(u=_,l=b),!p(v,y)&&!p(v,y)){u=v,l=m;break}}return{nextCloseTimeStr:u,nextCloseDayStr:l}}function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.dayStr,n=e.timeStr;if(!t||!n)return null;var r=c[Object(a["i"])(0)],i=c[t],s=i>=r?i-r:7-r+i;return new Date(+Object(a["b"])(n)+864e5*s)}function m(e){var t=e.openingHours,n=Object(a["i"])(0),r=d({openingHours:Object(a["e"])(n)(t)||[]}),o=r.length&&r.find(function(e){var t=Object(i["a"])(e,3),n=t[1],r=t[2];return Object(a["g"])(n)<=Object(a["c"])()&&Object(a["c"])()<Object(a["g"])(r)}),c=!!r.length&&r.every(function(e){var t=Object(i["a"])(e,2),n=t[1];return"closed"!==n}),u=c&&!!o,l=Object(s["a"])(r,"".concat(r.length-1,".2")),p=c&&!u&&Object(a["c"])()<Object(a["g"])(l);return{todayStr:n,todayOpeningHour:r,currentOpenTime:o,isOpenToday:c,lastTodayCloseTime:l,willOpenToday:p,isOpen:u}}function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.openingHours,n=void 0===t?[]:t,r={isOpen:!1,isOpenToday:!1,willOpenToday:!1,nextChangeTimeStr:null,nextChangeDayStr:null,nextChangeDate:null,todayOpeningHour:null},s=function(e){var t=e.dayStr,n=e.timeStr;r.nextChangeTimeStr=n,r.nextChangeDayStr=t,r.nextChangeDate=f({dayStr:t,timeStr:n})};if(n.every(function(e){return e.includes("closed")}))return r;var o=m({openingHours:n}),c=o.todayStr,u=o.todayOpeningHour,l=(o.currentOpenTime,o.isOpenToday),d=(o.lastTodayCloseTime,o.willOpenToday),v=o.isOpen;if(r.isOpenToday=l,r.isOpen=v,r.willOpenToday=d,r.todayOpeningHour=u,d){var g=u.find(function(e){var t=Object(i["a"])(e,2),n=t[1];return Object(a["c"])()<Object(a["g"])(n)})||[],b=Object(i["a"])(g,2),y=b[1];return s({dayStr:c,timeStr:y}),r}if(v){var _=h({openingHours:n,selectedDayStr:c}),O=_.nextCloseTimeStr,C=_.nextCloseDayStr;return s({dayStr:C,timeStr:O}),r}var S=p({openingHours:n,selectedDayStr:c}),w=S.nextOpenTimeStr,j=S.nextOpenDayStr;return s({dayStr:j,timeStr:w}),r}},f576:function(e,t,n){"use strict";var r=n("5ca1"),i=n("2e08"),a=n("a25f"),s=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(a);r(r.P+r.F*s,"String",{padStart:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0,!0)}})},f627:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.isRestaurant&&e.isGoingToClose?n("div",{staticClass:"last-order-time-warn"},[e._v("\n  "+e._s(e.$t("lastOrderIn",{minute:e.remainingTime}))+"\n")]):e._e()},i=[],a=(n("c5f6"),n("9870")),s=n("f23c"),o=n("f0f8"),c=!1,u={name:"LastOderTimeWarning",mixins:[a["a"]],props:{id:Number},data:function(){return{remainingTime:30,isGoingToClose:!1}},computed:{isRestaurant:function(){return"Restaurants"===Object(s["a"])(this.merchant,"attribute_set_name")},nextStatusChange:function(){var e=this.openingHours;return Object(o["a"])({openingHours:e})}},methods:{calIsGoingToClose:function(){var e=this.merchant,t=this.nextStatusChange,n=t.isOpen,r=t.nextChangeDate;if(!n)return this.isGoingToClose=!1;var i=+r-6e4*Object(s["a"])(e,"last_order_time",30);return this.isGoingToClose=+i-18e5<=+new Date&&+new Date<+i},calTimeRemainingBeforeClose:function(){if(this.merchant){this.calIsGoingToClose();var e=6e4*Object(s["a"])(this.merchant,"last_order_time",30),t=this.nextStatusChange.nextChangeDate,n=+t-(+new Date+e);this.remainingTime=Math.floor(Math.max(0,n/6e4))}}},mounted:function(){this.calTimeRemainingBeforeClose(),this.timeRemainingTimer=setInterval(this.calTimeRemainingBeforeClose,c?3e3:6e4)},beforeDestroy:function(){clearInterval(this.timeRemainingTimer)},watch:{merchant:function(){this.calTimeRemainingBeforeClose()}}},l=u,d=(n("512f"),n("2877")),p=n("6577"),h=Object(d["a"])(l,r,i,!1,null,"5c77fb67",null);"function"===typeof p["default"]&&Object(p["default"])(h);t["a"]=h.exports},fabd:function(e,t,n){"use strict";var r=n("a116"),i=n.n(r);t["default"]=i.a}}]);
//# sourceMappingURL=chunk-7bb73066.2e2f88a7.js.map