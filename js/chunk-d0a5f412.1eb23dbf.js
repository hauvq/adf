(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d0a5f412"],{2778:function(t,a){t.exports=function(t){t.options.__i18n=t.options.__i18n||[],t.options.__i18n.push('{"is":{"passwordUpdate":"Breyta lykilorði","currentPassword":"Núverandi lykilorð","saveChange":"Vista"},"en":{"passwordUpdate":"Password Update","currentPassword":"Current password","saveChange":"Save changes"}}'),delete t.options._Ctor}},5538:function(t,a,e){},6207:function(t,a,e){"use strict";var s=e("2778"),r=e.n(s);a["default"]=r.a},6508:function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return t.dataReady?e("div",{staticClass:"account-detail__container"},[e("account-detail-info"),e("account-detail-password")],1):t._e()},r=[],n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"account-detail-info__container account-page"},[e("LoadingWrapper",{attrs:{loadingKeys:[t.LOADING_KEY_FETCHING_ACCOUNT_INFO]}},[e("BaseButton",{staticClass:"tertiary btn--px-20 account-detail-info__logout-btn",nativeOn:{click:function(a){return t.logout(a)}}},[t._v(t._s(t.$t("logout")))]),e("div",{staticClass:"account-page__title"},[e("h2",[t._v(t._s(t.$t("personalDetail")))])]),e("form",{on:{submit:function(a){return a.preventDefault(),t.editCustomer(a)}}},[e("div",{staticClass:"account-detail-info__body"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-xs-12"},[e("div",{staticClass:"account-detail-info__label"},[t._v("\n              "+t._s(t.$t("firstName"))+"\n            ")]),e("div",{staticClass:"account-detail-info__input__container"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.customerInfo.firstname,expression:"customerInfo.firstname"}],staticClass:"account-detail-info__input__text",attrs:{autofocus:"",type:"text",name:"account.firstname",id:"account_firstname"},domProps:{value:t.customerInfo.firstname},on:{input:function(a){a.target.composing||t.$set(t.customerInfo,"firstname",a.target.value)}}})]),t.errorMsg.firstname?e("p",{staticClass:"account-detail-info__error"},[t._v("\n              "+t._s(t.errorMsg.firstname)+"\n            ")]):t._e()])]),e("div",{staticClass:"row row__container"},[e("div",{staticClass:"col-xs-12"},[e("div",{staticClass:"account-detail-info__label"},[t._v(t._s(t.$t("lastName")))]),e("div",{staticClass:"account-detail-info__input__container"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.customerInfo.lastname,expression:"customerInfo.lastname"}],staticClass:"account-detail-info__input__text",attrs:{type:"text",name:"account.lastname",id:"account_lastname"},domProps:{value:t.customerInfo.lastname},on:{input:function(a){a.target.composing||t.$set(t.customerInfo,"lastname",a.target.value)}}})]),t.errorMsg.lastname?e("p",{staticClass:"account-detail-info__error"},[t._v("\n              "+t._s(t.errorMsg.lastname)+"\n            ")]):t._e()])]),e("div",{staticClass:"row row__container"},[e("div",{staticClass:"col-xs-12"},[e("div",{staticClass:"account-detail-info__label"},[t._v(t._s(t.$t("email")))]),e("div",{staticClass:"account-detail-info__input__container"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.customerInfo.email,expression:"customerInfo.email"}],staticClass:"account-detail-info__input__text",attrs:{type:"text",name:"account.email",id:"account_email"},domProps:{value:t.customerInfo.email},on:{input:function(a){a.target.composing||t.$set(t.customerInfo,"email",a.target.value)}}})]),t.errorMsg.email?e("p",{staticClass:"account-detail-info__error"},[t._v("\n              "+t._s(t.errorMsg.email)+"\n            ")]):t._e()])])]),e("div",{staticClass:"row row__container"},[e("div",{staticClass:"col-xs-12"},[e("div",{staticClass:"account-detail-info__label"},[t._v("\n            "+t._s(t.$t("socialSecurityNumber"))+"\n          ")]),e("div",{staticClass:"account-detail-info__input__container"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.customerInfo.nationid,expression:"customerInfo.nationid"}],staticClass:"account-detail-info__input__text",attrs:{type:"number",name:"account.social-security-number",id:"account_social-security-number"},domProps:{value:t.customerInfo.nationid},on:{input:function(a){a.target.composing||t.$set(t.customerInfo,"nationid",a.target.value)}}})])])]),e("div",{staticClass:"account-detail-info__footer"},[e("div",{staticClass:"account-detail-info__btn--save__wrap"},[e("base-button",{staticClass:"primary btn btn--rounded btn-block",attrs:{type:"submit"}},[t._v(t._s(t.$t("saveChange")))])],1)])])],1)],1)},o=[],i=(e("8e6e"),e("ac6a"),e("456d"),e("96cf"),e("3b8d")),c=e("bd86"),u=e("2f62"),d=e("9225"),l=e("82ea"),p=e("022f"),_=e("9505"),m=e("b508");e("4917");function f(t){if(t)return t.match(/\w+@\w+\.\w+/g)}var v=e("f23c");function w(t,a){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);a&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),e.push.apply(e,s)}return e}function g(t){for(var a=1;a<arguments.length;a++){var e=null!=arguments[a]?arguments[a]:{};a%2?w(e,!0).forEach(function(a){Object(c["a"])(t,a,e[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):w(e).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(e,a))})}return t}var b={name:"AccountDetailInfo",components:{BaseButton:l["a"],LoadingWrapper:p["a"]},data:function(){return{errorMsg:{},LOADING_KEY_FETCHING_ACCOUNT_INFO:_["h"]}},computed:g({},Object(u["c"])(["customerInfo","shippingAddress"])),methods:g({},Object(u["b"])(["notification","logout","toggleLoading"]),{validateCustomer:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=t.firstname,s=t.lastname,r=t.email;return a.firstname=d["a"].t(e?"":"error.invalidTxt"),a.lastname=d["a"].t(s?"":"error.invalidTxt"),a.email=d["a"].t(r?f(r)?"":"error.invalidEmail":"error.invalidTxt"),this.errorMsg=a,!(a.firstname||a.lastname||a.email)},editCustomer:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var a,e,s,r,n,o,i,c,u,d,l;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(a=this.validateCustomer,e=this.customerInfo,s=this.shippingAddress,r=this.notification,n=this.toggleLoading,!a(e)){t.next=15;break}return o=e.firstname,i=e.lastname,c=e.email,u=e.nationid,d={firstname:o,lastname:i,email:c,nationid:u,shipping_address_id:s.customer_address_id,change_password:"0"},t.prev=4,n({loadingKey:_["h"],isLoading:!0}),t.next=8,Object(m["g"])(d);case 8:l=t.sent,l&&(n({loadingKey:_["h"],isLoading:!1}),r({type:l.status,message:Object(v["a"])(l,"data.errors.0",l.message)})),t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](4),r({type:"error",message:Object(v["a"])(t.t0,"response.data.messages.error.0.message",t.t0.message)});case 15:case"end":return t.stop()}},t,this,[[4,12]])}));function a(){return t.apply(this,arguments)}return a}()})},C=b,P=(e("c47f"),e("2877")),h=e("d1a6"),y=Object(P["a"])(C,n,o,!1,null,"05694668",null);"function"===typeof h["default"]&&Object(h["default"])(y);var O=y.exports,x=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"account-detail-password__container"},[e("LoadingWrapper",{attrs:{loadingKeys:[t.LOADING_KEY_FETCHING_ACCOUNT_PASSWORD]}},[e("div",{staticClass:"account-detail-password__header"},[e("h2",{staticClass:"account-detail-password__header__title"},[t._v("\n        "+t._s(t.$t("passwordUpdate"))+"\n      ")])]),e("form",{on:{submit:function(a){return a.preventDefault(),t.changePassword(a)}}},[e("div",{staticClass:"account-detail-password__body"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-xs-12"},[e("div",{staticClass:"account-detail-password__label"},[t._v("\n              "+t._s(t.$t("currentPassword"))+"\n            ")]),e("div",{staticClass:"account-detail-password__input__container"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.customer.password,expression:"customer.password"}],staticClass:"account-detail-password__input__text",attrs:{type:"password",name:"account.password",id:"account_password",autocomplete:"current-password"},domProps:{value:t.customer.password},on:{input:function(a){a.target.composing||t.$set(t.customer,"password",a.target.value)}}})]),t.errorMsg.password?e("p",{staticClass:"account-detail-password__error"},[t._v("\n              "+t._s(t.errorMsg.password)+"\n            ")]):t._e()])]),e("div",{staticClass:"row row__container"},[e("div",{staticClass:"col-xs-12"},[e("div",{staticClass:"account-detail-password__label"},[t._v("\n              "+t._s(t.$t("newPassword"))+"\n            ")]),e("div",{staticClass:"account-detail-password__input__container"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.customer.newPassword,expression:"customer.newPassword"}],staticClass:"account-detail-password__input__text",attrs:{type:"password",name:"account.newPassword",id:"account_newPassword",autocomplete:"new-password"},domProps:{value:t.customer.newPassword},on:{input:function(a){a.target.composing||t.$set(t.customer,"newPassword",a.target.value)}}})]),t.errorMsg.newPassword?e("p",{staticClass:"account-detail-password__error"},[t._v("\n              "+t._s(t.errorMsg.newPassword)+"\n            ")]):t._e()])]),e("div",{staticClass:"row row__container"},[e("div",{staticClass:"col-xs-12"},[e("div",{staticClass:"account-detail-password__label"},[t._v("\n              "+t._s(t.$t("confirmPassword"))+"\n            ")]),e("div",{staticClass:"account-detail-password__input__container"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.customer.confirmPassword,expression:"customer.confirmPassword"}],staticClass:"account-detail-password__input__text",attrs:{type:"password",name:"account.confirmPassword",id:"account_confirmPassword",autocomplete:"confirm-password"},domProps:{value:t.customer.confirmPassword},on:{input:function(a){a.target.composing||t.$set(t.customer,"confirmPassword",a.target.value)}}})]),t.errorMsg.confirmPassword?e("p",{staticClass:"account-detail-password__error"},[t._v("\n              "+t._s(t.errorMsg.confirmPassword)+"\n            ")]):t._e()])])]),e("div",{staticClass:"account-detail-password__footer"},[e("div",{staticClass:"account-detail-password__btn--save__wrap"},[e("base-button",{staticClass:"primary btn btn--rounded btn-block",attrs:{type:"submit"}},[t._v(t._s(t.$t("saveChange")))])],1)])])])],1)},j=[];function N(t,a){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);a&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),e.push.apply(e,s)}return e}function I(t){for(var a=1;a<arguments.length;a++){var e=null!=arguments[a]?arguments[a]:{};a%2?N(e,!0).forEach(function(a){Object(c["a"])(t,a,e[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):N(e).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(e,a))})}return t}var D={name:"AccountDetailPassword",components:{BaseButton:l["a"],LoadingWrapper:p["a"]},data:function(){return{customer:{password:"",newPassword:"",confirmPassword:""},errorMsg:{},LOADING_KEY_FETCHING_ACCOUNT_PASSWORD:_["i"]}},methods:I({},Object(u["b"])(["notification","toggleLoading"]),{validatePassword:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=t.password,s=t.newPassword,r=t.confirmPassword;return a.password=d["a"].t(e?"":"error.invalidTxt"),""===s&&""===r?(a.newPassword=d["a"].t("error.invalidTxt"),a.confirmPassword=d["a"].t("error.invalidTxt")):""===s&&r?a.newPassword=d["a"].t("error.invalidTxt"):s&&""===r?a.confirmPassword=d["a"].t("error.invalidTxt"):s!==r&&(a.confirmPassword=d["a"].t("error.dulicatePassword")),this.errorMsg=a,!(a.password||a.newPassword||a.confirmPassword)},changePassword:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var a,e,s,r,n,o,i,c;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(a=this.validatePassword,e=this.customer,s=this.notification,r=this.toggleLoading,!a(e)){t.next=15;break}return n=e.password,o=e.newPassword,i={change_password:"1",current_password:n,password:o},t.prev=4,r({loadingKey:_["i"],isLoading:!0}),t.next=8,Object(m["g"])(i);case 8:c=t.sent,c&&(r({loadingKey:_["i"],isLoading:!1}),s({type:c.status,message:Object(v["a"])(c,"data.errors.0",c.message)})),t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](4),s({type:"error",message:Object(v["a"])(t.t0,"response.data.messages.error.0.message",t.t0.message)});case 15:case"end":return t.stop()}},t,this,[[4,12]])}));function a(){return t.apply(this,arguments)}return a}()})},$=D,E=(e("6b23"),e("6207")),L=Object(P["a"])($,x,j,!1,null,"395dc8e1",null);"function"===typeof E["default"]&&Object(E["default"])(L);var k=L.exports,A={name:"ViewMyAccountDetail",components:{AccountDetailInfo:O,AccountDetailPassword:k},computed:{dataReady:function(){return this.$store.state.customer}}},M=A,T=Object(P["a"])(M,s,r,!1,null,null,null);a["default"]=T.exports},"6b23":function(t,a,e){"use strict";var s=e("6ed8"),r=e.n(s);r.a},"6ed8":function(t,a,e){},c47f:function(t,a,e){"use strict";var s=e("5538"),r=e.n(s);r.a},c8fe:function(t,a){t.exports=function(t){t.options.__i18n=t.options.__i18n||[],t.options.__i18n.push('{"is":{"personalDetail":"Um mig","firstName":"Fornafn","lastName":"Eftirnafn","email":"Netfang","socialSecurityNumber":"Kennitala (þarf eingöngu ef greiða á með millifærslu)","saveChange":"Vista","logout":"Skrá út"},"en":{"personalDetail":"Personal Details","firstName":"First name","lastName":"Last name","email":"Email","socialSecurityNumber":"Social security number (required only if transfer is required)","saveChange":"Save changes","logout":"Log out"}}'),delete t.options._Ctor}},d1a6:function(t,a,e){"use strict";var s=e("c8fe"),r=e.n(s);a["default"]=r.a}}]);
//# sourceMappingURL=chunk-d0a5f412.1eb23dbf.js.map