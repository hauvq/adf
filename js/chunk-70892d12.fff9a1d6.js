(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-70892d12"],{"0615":function(t,e,n){},1799:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.isShowPagination?n("div",{staticClass:"pagination-container"},[n("div",{staticClass:"pagination-paginate"},[t.renderPage.length>5?n("div",[n("ul",{staticClass:"pagiantion-paginate-container"},[n("li",{staticClass:"pagiantion-paginate__item pagiantion-paginate__item--left",class:{"no-cursor":1===t.currentPage},on:{click:function(e){return t.changePage(t.currentPage-1)}}},[n("i",{staticClass:"icon icon--arrow-left"})]),n("li",{staticClass:"pagiantion-paginate__item pagiantion-paginate__item--index",class:{"pagiantion-paginate__item--index--actived":1===t.currentPage,"no-cursor":1===t.currentPage},on:{click:function(e){1!==t.currentPage&&t.changePage(1)}}},[n("span",[t._v("1")])]),t.currentPage>=t.renderPage.length-2||t.renderPage.length>5&&t.currentPage>=3?n("li",{staticClass:"pagiantion-paginate__item pagiantion-paginate__item--three-dot no-cursor"},[n("i",{staticClass:"icon icon--three-dot-horizontal"})]):t._e(),t.currentPage>1&&t.renderPage.length-1>t.currentPage?n("li",{staticClass:"pagiantion-paginate__item pagiantion-paginate__item--index",class:{"pagiantion-paginate__item--index--actived":!0,"no-cursor":!0}},[n("span",[t._v(t._s(t.currentPage))])]):t._e(),t.currentPage<t.renderPage.length?n("li",{staticClass:"pagiantion-paginate__item pagiantion-paginate__item--index",class:{"pagiantion-paginate__item--index--actived":t.currentPage===t.renderPage.length-1},on:{click:function(e){t.changePage(t.getCurrentPage(t.currentPage))}}},[n("span",[t._v(t._s(t.getCurrentPage(t.currentPage)))])]):t._e(),t.currentPage<t.renderPage.length-2?n("li",{staticClass:"pagiantion-paginate__item pagiantion-paginate__item--three-dot no-cursor"},[n("i",{staticClass:"icon icon--three-dot-horizontal"})]):t._e(),n("li",{staticClass:"pagiantion-paginate__item pagiantion-paginate__item--index",class:{"pagiantion-paginate__item--index--actived":t.currentPage>=t.renderPage.length,"no-cursor":t.currentPage===t.renderPage.length},on:{click:function(e){t.currentPage!==t.renderPage.length&&t.changePage(t.renderPage.length)}}},[n("span",[t._v(t._s(t.renderPage.length))])]),n("li",{staticClass:"pagiantion-paginate__item pagiantion-paginate__item--right",class:{"no-cursor":t.currentPage>=t.renderPage.length},on:{click:function(e){return t.changePage(t.currentPage+1)}}},[n("i",{staticClass:"icon icon--arrow-right"})])])]):n("div",[n("ul",{staticClass:"pagiantion-paginate-container"},[n("li",{staticClass:"pagiantion-paginate__item pagiantion-paginate__item--left",class:{"no-cursor":1===t.currentPage},on:{click:function(e){return t.changePage(t.currentPage-1)}}},[n("i",{staticClass:"icon icon--arrow-left"})]),t._l(t.renderPage,function(e,r){return n("li",{key:r,staticClass:"pagiantion-paginate__item pagiantion-paginate__item--index",class:{"pagiantion-paginate__item--index--actived":t.currentPage===e||t.currentPage>e&&e===t.renderPage.length},on:{click:function(n){return t.changePage(e)}}},[n("span",[t._v(t._s(e))])])}),n("li",{staticClass:"pagiantion-paginate__item pagiantion-paginate__item--right",class:{"no-cursor":t.currentPage>=t.renderPage.length},on:{click:function(e){return t.changePage(t.currentPage+1)}}},[n("i",{staticClass:"icon icon--arrow-right"})])],2)])])]):t._e()},a=[],i=(n("c5f6"),n("f23c")),s={name:"Pagination",data:function(){return{renderPage:[],totalPage:1}},props:{totalItems:{type:Number,default:0},showEntries:{type:Number,default:10},showPagination:Function},computed:{isShowPagination:function(){return this.totalItems>0},currentPage:function(){return Number(Object(i["a"])(this.$route,"query.page",1))}},methods:{pageNumber:function(t){var e=(t/this.showEntries).toFixed(0);this.totalPage=0==e?1:e,this.showRenderPage()},showRenderPage:function(){for(var t=[],e=1;e<=this.totalPage;e++)t.push(e);this.renderPage=t},changePage:function(t){var e=this.showPagination;e(t,this.showEntries),this.$router.push("?page=".concat(t))},getCurrentPage:function(t){var e=this.currentPage,n=this.renderPage;return e===n.length&&t-1||e===n.length-1&&t||t+1}},mounted:function(){var t=this.totalItems,e=this.pageNumber;e(t)}},o=s,c=(n("b774"),n("2877")),u=Object(c["a"])(o,r,a,!1,null,"3096f482",null);e["a"]=u.exports},2787:function(t,e,n){},3720:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"account-order__container account-page"},[r("div",{staticClass:"account-page__title"},[r("h2",[t._v(t._s(t.$t("orderTitle")))])]),r("LoadingWrapper",{attrs:{loadingKeys:[t.getAccountOrdersKey()]}},[t.isReady?r("div",{staticClass:"account-order__item-container"},[t._l(t.ordersList,function(e){return r("div",{key:e.order_id},[r("LoadingWrapper",{attrs:{loadingKeys:[t.getAccountOrdersKey(e.parent_order_id)]}},[r("div",{class:["account-order__item cursor hover-bg",t.isShowOrders(e)&&"account-order__item-actived"],on:{click:function(n){return t.toggleShowOrders(e)}}},[r("div",{staticClass:"account-order__left-section"},[r("div",{staticClass:"account-order__item-left"},[r("router-link",{staticClass:"account-order__item-img",attrs:{to:{path:"orders/view/id/"+e.parent_order_id}}},[r("ImageViewer",{staticClass:"img img-responsive",attrs:{src:t.image(e.image),alt:e.name,loading:"lazy"}})],1),r("div",{staticClass:"account-order__item-content",on:{click:function(n){return t.viewDetail(e,n)}}},[r("h2",{staticClass:"account-order__item-name"},[t._v("\n                    "+t._s(e.name)+"\n                  ")]),r("div",{staticClass:"account-order__item-subcontent"},[r("span",[t._v("# "+t._s(e.order_id))]),r("span",[t._v(t._s(e.qty)+" "+t._s(t.$t("quantity")))]),r("span",[t._v(t._s(t._f("formatDateTime")(e.order_date)))])])])],1),r("div",{staticClass:"account-order__item-right"},[r("div",{staticClass:"account-order__item-total"},[r("span",{staticClass:"account-order__item-name"},[t._v(t._s(t._f("formatISK")(parseInt(e.order_total))))])]),r("span",{class:["account-order__item-status","color__status--"+t.statusColor(e.order_status)]},[t._v(t._s(e.order_status))])])]),r("div",{class:["icon--custom",t.isShowOrders(e)&&"icon--arrow-down--rolate"]},[r("i",{staticClass:"icon--arrow-down"})])])]),t.isShowOrders(e)&&t.subOrdersMap[e.parent_order_id]?r("div",t._l(t.subOrdersMap[e.parent_order_id],function(e){return r("div",{key:e.item_id,staticClass:"account-order__item account-order__item-actived"},[r("span",{staticClass:"account-order__item-subname account-order__item-name--child cursor"},[t._v(t._s(e.name))]),r("span",{staticClass:"account-order__item-name account-order__item-name--child"},[t._v(t._s(t._f("formatISK")(+e.row_total_incl_tax)))])])}),0):t._e()],1)}),r("div",{staticClass:"account-order__pagination"},[r("Pagination",t._b({attrs:{showPagination:t.getOrdersList}},"Pagination",t.paginationProps,!1))],1)],2):t.isDataReady?r("div",[r("img",{staticClass:"noOrdersImage",attrs:{alt:"no order image",src:n("d2d2")}}),r("span",{staticClass:"noOrdersText"},[r("h1",[t._v(t._s(t.$t("noOrderText")))])]),r("span",{staticClass:"noOrdersSubtext"},[r("p",[t._v(t._s(t.$t("noOrderSubtext")))])]),r("div",{staticClass:"gotoshop-btn__wrap"},[r("router-link",{attrs:{to:"/"}},[r("base-button",{staticClass:"primary"},[t._v(t._s(t.$t("gotoStore")))])],1)],1)]):r("div",{staticClass:"account-order__item-container"})])],1)},a=[],i=(n("8e6e"),n("c5f6"),n("456d"),n("ac6a"),n("8615"),n("96cf"),n("3b8d")),s=(n("6762"),n("2fdb"),n("bd86")),o=n("2f62"),c=n("82ea"),u=n("022f"),d=n("1799"),g=n("e700"),l=n("7e61"),p=n("f23c"),_=n("bfc0");function h(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function f(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?h(n,!0).forEach(function(e){Object(s["a"])(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var m={name:"ViewMyAccountOrders",components:{BaseButton:c["a"],LoadingWrapper:u["a"],Pagination:d["a"],ImageViewer:g["a"]},data:function(){return{showItemInOrders:[],subOrdersMap:{},orders:void 0,isDataReady:!1}},computed:f({},Object(o["c"])(["getAccountOrdersKey"]),{isReady:function(){var t=this.ordersList,e=this.ordersTotal;return!(!t||!e)},isHaveOrders:function(){return this.ordersTotal>0},paginationProps:function(){return{totalItems:this.ordersTotal,showEntries:10}},ordersList:function(){return Object(p["a"])(this,"orders.ordersList")},ordersTotal:function(){return Object(p["a"])(this,"orders.totalCount",0)}}),methods:f({},Object(o["b"])(["toggleLoading"]),{isShowOrders:function(t){return this.showItemInOrders.includes(t.order_id)},statusColor:function(t){return Object(_["a"])(t)},pushItemInOrders:function(t){this.showItemInOrders.push(t)},sliceItemInOrders:function(t){this.showItemInOrders=this.showItemInOrders.filter(function(e){return e!==t})},toggleShowOrders:function(t){var e=this.showItemInOrders,n=this.sliceItemInOrders,r=this.pushItemInOrders,a=this.toggleLoading,i=this.getAccountOrdersKey,s=t.order_id,o=t.parent_order_id;e.includes(s)?n(s):r(s),this.subOrdersMap[o]||(a({loadingKey:i(o),isLoading:!0}),this.getOrderInfo(o))},getOrderInfo:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(e){var n,r,a,i,o;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=this.subOrdersMap,r=this.toggleLoading,a=this.getAccountOrdersKey,t.next=3,Object(l["a"])(e);case 3:i=t.sent,o=Object(p["a"])(i,"data.suborders.".concat([e],".items"),[]),this.subOrdersMap=f({},n,Object(s["a"])({},e,Object.values(o))),r({loadingKey:a(e),isLoading:!1});case 7:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),getOrdersList:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(e,n){var r,a,i,s,o;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return r=this.toggleLoading,a=this.getAccountOrdersKey,r({loadingKey:a(),isLoading:!0}),t.next=4,Object(l["b"])({skip:e,limit:n});case 4:i=t.sent,s=[],o=Object(p["a"])(i,"total_count.0",0),Object.values(Object(p["a"])(i,"records.0",[])).forEach(function(t){var e=Object.keys(t)[0],n=Object.values(t)[0];s.push(f({},n,{parent_order_id:e}))}),this.orders={ordersList:s,totalCount:o},r({loadingKey:a(),isLoading:!1});case 9:case"end":return t.stop()}},t,this)}));function e(e,n){return t.apply(this,arguments)}return e}(),viewDetail:function(t,e){e.stopPropagation(),this.$router.push("orders/view/id/".concat(t.parent_order_id))},image:function(t){return"no_selection"!==t&&t?t:""}}),created:function(){this.isDataReady=!1},mounted:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var e,n,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(e=this.ordersList,n=this.getOrdersList,e){t.next=5;break}return r=Number(Object(p["a"])(this.$route,"query.page",1)),t.next=5,n(r,20);case 5:this.isDataReady=!0;case 6:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},v=m,O=(n("378c"),n("2877")),b=n("d253"),P=Object(O["a"])(v,r,a,!1,null,"b9fd74ec",null);"function"===typeof b["default"]&&Object(b["default"])(P);e["default"]=P.exports},"378c":function(t,e,n){"use strict";var r=n("0615"),a=n.n(r);a.a},"7e61":function(t,e,n){"use strict";n.d(e,"b",function(){return o}),n.d(e,"a",function(){return u});n("96cf");var r=n("3b8d"),a=n("fce9"),i=n("f23c"),s=n("1503");function o(t){return c.apply(this,arguments)}function c(){return c=Object(r["a"])(regeneratorRuntime.mark(function t(e){var n,r,o,c,u,d;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=e.skip,r=void 0===n?r||s["l"].skip:n,o=e.limit,c=void 0===o?c||s["l"].limit:o,u="/api/rest/order/list/".concat(c,"/").concat(r),t.next=4,a["a"].get(u);case 4:return d=t.sent,t.abrupt("return",Object(i["a"])(d,"data",{}));case 6:case"end":return t.stop()}},t)})),c.apply(this,arguments)}function u(t){return d.apply(this,arguments)}function d(){return d=Object(r["a"])(regeneratorRuntime.mark(function t(e){var n,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return");case 2:return n="/api/rest/order/id/".concat(e),t.next=5,a["a"].get(n);case 5:return r=t.sent,t.abrupt("return",Object(i["a"])(r,"data",{}));case 7:case"end":return t.stop()}},t)})),d.apply(this,arguments)}},b148:function(t,e){t.exports=function(t){t.options.__i18n=t.options.__i18n||[],t.options.__i18n.push('{"is":{"gotoStore":"Fara í verslun","noOrderText":"Þú átt engar fyrri pantanir","noOrderSubtext":"Er ekki kominn tími á að versla?","quantity":"fjöldi","orderTitle":"Pantanir"},"en":{"gotoStore":"Start Shopping Now","noOrderText":"You currently have no previous orders","noOrderSubtext":"Best get shopping with Aha","quantity":"items","orderTitle":"My Orders"}}'),delete t.options._Ctor}},b774:function(t,e,n){"use strict";var r=n("2787"),a=n.n(r);a.a},bfc0:function(t,e,n){"use strict";n("7f7f"),n("7514");var r=[{name:"Tilbúið",value:"ready"},{name:"Staðfest",value:"complete"},{name:"Í vinnslu",value:"processing"},{name:"Lokið",value:"closed"},{name:"Afhent",value:"delivered"},{name:"Hætt við",value:"canceled"}],a=r,i=n("f23c");function s(t){var e=a.find(function(e){var n=e.name;return n===t});return Object(i["a"])(e,"value","")}n.d(e,"a",function(){return s})},d253:function(t,e,n){"use strict";var r=n("b148"),a=n.n(r);e["default"]=a.a}}]);
//# sourceMappingURL=chunk-70892d12.fff9a1d6.js.map