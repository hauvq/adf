(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7ca817ba","chunk-e28b030a"],{"0007":function(t,e,r){"use strict";var i=r("11b1"),n=r.n(i);n.a},"11b1":function(t,e,r){},1881:function(t,e,r){"use strict";function i(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function n(t,e){if(null==t)return{};var r,i,n=a(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function a(t,e){if(null==t)return{};var r,i,n={},a=Object.keys(t);for(i=0;i<a.length;i++)r=a[i],e.indexOf(r)>=0||(n[r]=t[r]);return n}function s(t){t.configure;var e=n(t,["configure"]);return e}function o(t){return{stateToRoute:function(e){return s(e[t]||{})},routeToState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i({},t,s(e))}}}r.d(e,"a",function(){return o})},2478:function(t,e,r){"use strict";var i=r("fad7"),n=r.n(i);n.a},2605:function(t,e,r){"use strict";r.r(e);var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("DeliveryBarWrapper",{staticClass:"delivery-bar-wrapper--mt-5 container"},[i("div",{staticClass:"delivery-bar-wrapper__left-group"},[i("DeliveryCurrAddressContainer",{attrs:{sellerType:t.currSellerType,noSuccessRedirect:!0,storeName:t.name,customText:t.currentAddress,supportPickupShipment:t.supportPickupShipment,viewName:"ViewProducts"}})],1),i("MyProductPopupWrapper",{staticClass:"my-product_same-as-last-container"},[i("MyProductAndSameAsLastBtns",{attrs:{onMyProductClick:t.toggleMyProducts,merchant:t.merchant,isMyProductsFiltered:t.isMyProductsFiltered,storeId:t.id}})],1)],1),i("section",{staticClass:"container"},[i("AisCategoryFilter",{attrs:{store:t.store,baseFilter:t.filterStoreID,myProductIDs:t.myProductIDs,isMyProductsFiltered:t.isMyProductsFiltered,basePath:t.path},scopedSlots:t._u([{key:"customRender",fn:function(){return[i("div",{staticClass:"container"},[i("FilterAndOptions",{attrs:{merchant:t.merchant,storeId:t.id}}),i("h1",{class:["page-title",!t.store&&"app-ph"]},[t._v(t._s(t.name))]),i("h1",{directives:[{name:"show",rawName:"v-show",value:t.subCategoryName,expression:"subCategoryName"}],staticClass:"page__title--sub-category"},[t._v("\n            "+t._s(t.subCategoryName)+"\n          ")]),t.name&&t.name.includes("Nettó")?i("router-link",{attrs:{to:"/grocery/"+t.path}},[i("span",{staticClass:"back-to-overview"},[i("img",{attrs:{alt:"back to last page",src:r("f6db")}}),t._v("\n              "+t._s(t.$t("backToOverview"))+"\n            ")])]):t._e()],1)]},proxy:!0}])})],1)],1)},n=[],a=(r("8e6e"),r("456d"),r("28a5"),r("7f7f"),r("ac6a"),r("8615"),r("96cf"),r("3b8d")),s=r("bd86"),o=r("bc3a"),c=r.n(o),u=r("2f62"),l=r("7b39"),d=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.store?r("ais-instant-search",{key:t.remountKey,staticClass:"row",attrs:{"index-name":"products","search-client":t.searchClient,routing:t.routing}},[r("ais-hierarchical-menu",{staticClass:"category-filter category-filter--chip-list card category-filter--sub-cat",attrs:{attributes:t.attributes,limit:100,"class-names":{"ais-HierarchicalMenu-item":"category-filter__item"},"show-parent-level":!0,"root-path":t.rootPath},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.items,n=e.refine,a=e.createURL;return r("div",{},[r("AisHierarchicalMenuChipList",{attrs:{items:i,refine:t.refineAndScroll(n),createURL:a,name:t.name,basePath:t.basePath,isRoot:""}})],1)}}])}),t._t("customRender"),r("div",{ref:"categoryFilterModalWrapperRef",staticClass:"category-list__sidebar col-xs-3"},[r("BaseModal",{staticClass:"category-filter-modal",attrs:{isVisible:!0,clickOutsideToClose:!1,disableBodyScroll:!1},on:{hide:t.hideFilterModal},scopedSlots:t._u([{key:"header",fn:function(){return[t._v(t._s(t.$t("filter")))]},proxy:!0},{key:"footer",fn:function(){return[r("div",{staticClass:"btns-container btns-container--center"},[r("p",{directives:[{name:"show",rawName:"v-show",value:null!==t.counts,expression:"counts !== null"}],staticClass:"category-list__count"},[t._v("\n            "+t._s(t.counts)+" "+t._s(t.$t(1===t.counts?"itemFound":"itemsFound"))+"\n          ")]),r("div",{staticClass:"btn-container-groups"},[r("BaseButton",{staticClass:"tertiary btn--px-20 btn--mx-15",nativeOn:{click:function(e){return t.resetFilter(e)}}},[t._v(t._s(t.$t("resetFilter")))]),r("BaseButton",{staticClass:"primary btn--px-20 btn--mx-15",nativeOn:{click:function(e){return t.hideFilterModal(e)}}},[t._v(t._s(t.$t("showResults")))])],1)])]},proxy:!0}])},[r("div",{staticClass:"category-filter"},[r("div",{staticClass:"accordion",attrs:{id:"filter-accordion"}},[r("div",{staticClass:"card"},[r("div",{staticClass:"card-header",attrs:{id:"headingOne"}},[r("h5",[r("div",[t._v(t._s(t.$t("categories")))])])]),r("div",{staticClass:"collapse in",attrs:{id:"collapseOne","aria-labelledby":"headingOne"}},[r("div",{staticClass:"card-body"},[r("div",{staticClass:"category-list"},[r("ais-configure",{attrs:{filters:t.filters,hitsPerPage:24}}),r("ais-hierarchical-menu",{staticClass:"category-filter card",attrs:{attributes:t.attributes,limit:100,"class-names":{"ais-HierarchicalMenu-item":"category-filter__item"},showParentLevel:"","root-path":t.rootPath},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.items,n=e.canToggleShowMore,a=e.isShowingMore,s=e.refine,o=e.toggleShowMore,c=e.createURL;return r("div",{},[r("AisHierarchicalMenuList",{attrs:{items:i,refine:t.refineAndScroll(s),createURL:c,name:t.name,basePath:t.basePath,isRoot:""}}),r("p",{directives:[{name:"show",rawName:"v-show",value:n,expression:"canToggleShowMore"}],staticClass:"more-item",on:{click:function(t){return o()}}},[t._v("\n                        "+t._s(a?"- Sjá færri":"+ Sjá alla flokka")+"\n                      ")])],1)}}])})],1)])])])])])])],1),r("div",{staticClass:"category-list__content col-xs-12 col-sm-9"},[r("AisInfiniteLoading",{staticClass:"row",attrs:{"transform-items":t.transformItems},scopedSlots:t._u([{key:"items",fn:function(e){var i=e.items;return t._l(i,function(e){return r("grid-grocery-item",t._b({key:e&&e.objectID,staticClass:"col-xs-6 col-sm-4 col-md-3",attrs:{entity_id:parseInt(e&&e.objectID),parent_product_id:parseInt(t.id)}},"grid-grocery-item",e,!1))})}}])})],1)],2):r("div",{staticClass:"row"},[t._m(0),r("div",{staticClass:"category-list__content col-xs-12 col-sm-9"},[r("div",{staticClass:"row"},t._l([].concat(Array(12)),function(e,i){return r("grid-grocery-item",t._b({key:i,staticClass:"col-xs-6 col-sm-4 col-md-3"},"grid-grocery-item",e,!1))}),1)])])},h=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"category-list__sidebar category-list__sidebar--app-ph col-xs-3"},[r("div",{staticClass:"category-filter"},[r("div",{staticClass:"app-ph"})])])}],p=r("75fc"),f=(r("c5f6"),r("bb29")),m=r.n(f),v=r("1881"),b=r("3757"),g=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("div",{class:[0!==t.level&&"category-list__inner","category-list--lv-"+t.level]},t._l(t.items,function(e){return r("ul",{key:e.value},[r("li",{class:["category-filter__item",e.isRefined&&"category-filter__item--refined"]},[e.isRefined?r("i",{staticClass:"icon--arrow-left"}):t._e(),r("router-link",{attrs:{to:t.createURLForRouterLink(e.value),event:""},nativeOn:{click:function(r){t.handleLinkClick({value:e.value,to:t.createURLForRouterLink(e.value)})}}},[t._v(t._s(e.label))]),e.isRefined&&!t.hasData(e)?r("ais-refinement-list",{staticClass:"category-filter__refinement",attrs:{attribute:"brand"}}):t._e(),t.hasData(e)?r("ais-hierarchical-menu-list",{attrs:{items:[].concat(e.data),refine:t.refine,createURL:t.createURL,level:t.level+1,name:t.name,basePath:t.basePath}}):t._e()],1)])}),0)])},y=[],_=r("6413");function O(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,i)}return r}function w(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?O(r,!0).forEach(function(e){Object(s["a"])(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):O(r).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var P=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return function(t){return e.reduce(function(t,e){return e(t)},t)}},j=function(t){return t.value.split(" > ")},C=function(t){return t.join(" > ")},S=function(t){return function(e){return e[e.length-t]||""}},R=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return function(e){var r=Object(p["a"])(e);return r.splice(-t,t),r}},M={name:"AisHierarchicalMenuList",mixins:[_["a"]],props:{level:{type:Number,default:0},items:Array,refine:Function,createURL:Function,name:String,basePath:String,isRoot:Boolean},methods:w({},Object(u["b"])(["toggleNoResetModal"]),{handleLinkClick:function(t){var e=t.value,r=t.to;this.toggleNoResetModal(!0),this.refine(e),this.$router.push(r)},hasData:function(t){return t.data&&t.data.length},canShow:function(t){return!t.isRefined&&!this.first.isRefined},createURLForRouterLink:function(t){var e=this.createURL(t),r=this.basePath,i=e.indexOf("/verslun/".concat(r));return e&&e.slice(-1!==i?i:e.indexOf("/".concat(r)))},createRootURL:function(t){var e=this.basePath,r=this.createURL,i=r(t);return i&&e?"/verslun/"+e:i}}),computed:{isChildRefined:function(){var t=this.first,e=this.hasData;return t.isRefined&&e(t)&&t.data[0].isRefined},isDeadEnd:function(){var t=this.first,e=this.hasData;return t.isRefined&&!e(t)},isInner:function(){return!!this.level},first:function(){return this.items[0]},category:function(){var t=this.level,e=this.name,r=this.first,i=t?P(j,S(2))(r):e,n=P(j,R(),C)(r);return{label:i,value:n}}}},k=M,D=(r("2478"),r("2877")),x=Object(D["a"])(k,g,y,!1,null,null,null),I=x.exports,L=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("div",[r("ul",{staticClass:"category-filter__list"},t._l(t.items,function(e){return r("li",{key:e.value,class:t.classObj(e)},[r("router-link",{attrs:{to:t.createURLForRouterLink(e.value),event:""},nativeOn:{click:function(r){t.handleLinkClick({value:e.value,to:t.createURLForRouterLink(e.value)})}}},[t._v(t._s(e.label))])],1)}),0)])])},F=[],A=r("ec79");function B(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,i)}return r}function E(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?B(r,!0).forEach(function(e){Object(s["a"])(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):B(r).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var N={name:"AisHierarchicalMenuChipList",mixins:[A["a"]],props:{level:{type:Number,default:0},items:Array,refine:Function,createURL:Function,name:String,basePath:String,isRoot:Boolean},methods:E({},Object(u["b"])(["toggleNoResetModal"]),{classObj:function(t){return{"category-filter__item":!0,"category-filter__item--selected":t.isRefined}},handleLinkClick:function(t){var e=t.value,r=t.to;this.toggleNoResetModal(!0),this.refine(e),this.$router.push(r)},createURLForRouterLink:function(t){var e=this.createURL(t),r=this.basePath,i=e.indexOf("/verslun/".concat(r));return e&&e.slice(-1!==i?i:e.indexOf("/".concat(r)))}})},$=N,T=(r("0007"),Object(D["a"])($,L,F,!1,null,null,null)),U=T.exports,V=r("82ea"),q=r("c1ec"),Q=r("c150"),G=r("73331"),K=r("f23c"),H=r("935a");function W(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,i)}return r}function z(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?W(r,!0).forEach(function(e){Object(s["a"])(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):W(r).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var Y={name:"AisCategoryFilter",components:{GridGroceryItem:b["default"],AisHierarchicalMenuList:I,AisHierarchicalMenuChipList:U,BaseButton:V["a"],BaseModal:q["a"],AisInfiniteLoading:Q["a"]},props:{store:Object,baseFilter:String,attribute:{type:String,default:"store_categories"},basePath:{type:String},levels:{type:Number,default:3},rootPath:{type:String,default:""},myProductIDs:{type:Array,default:function(){return[]}},isMyProductsFiltered:{type:Boolean,default:!1}},data:function(){var t=this.basePath,e=this.attribute,r=this.updateRemountKey,i=this.$router,n={read:function(){var r=i.currentRoute.path.split("/").filter(Boolean),n=r.splice(r.indexOf(t)+1,r.length).map(decodeURIComponent),a=Object(s["a"])({},"".concat(e,".lvl0"),[this.rootPath].concat(Object(p["a"])(n)).filter(Boolean));return{hierarchicalMenu:a}},write:function(t){},createURL:function(r){var i=this,n=r.hierarchicalMenu,a=n?r.hierarchicalMenu["".concat(e,".lvl0")].filter(function(t){return t!==i.rootPath}):[],s=location.pathname.slice(0,location.pathname.indexOf(t))+t,o=n?"".concat([s].concat(Object(p["a"])(a)).join("/")):location.pathname;return o},onUpdate:function(t){var e=this;this._onPopState=function(i){var n=i.state,a=n;r(),t(a||e.read())},window.addEventListener("popstate",this._onPopState)},dispose:function(){window.removeEventListener("popstate",this._onPopState),this.write()}};return{searchClient:m()("5D97PB00YB","6e6550362dda457bf773b121e6e6acf0"),routing:{router:n,stateMapping:Object(v["a"])("products")},remountKey:void 0}},methods:z({},Object(u["b"])(["hideModal","setCounts"]),{hideFilterModal:function(){this.hideModal(H["c"])},transformItems:function(t){return t.map(function(t){return z({},t,{entity_id:+t.objectID})})},refineAndScroll:function(t){return function(e){setTimeout(function(){return t(e)},100),window.scrollTo(0,0)}},updateRemountKey:function(){this.remountKey=+new Date},resetFilter:function(){var t=this.getModalState(H["c"]),e=t.routerToReset;this.$router.push(e),this.updateRemountKey()}}),computed:z({},Object(u["c"])(["getModalVisibilityState","getModalState","counts"]),{isShowFilterModal:function(){return this.getModalVisibilityState(H["c"])},attributes:function(){var t=this;return Object(G["a"])(this.levels).map(function(e){return"".concat(t.attribute,".lvl").concat(e)})},name:function(){return Object(K["a"])(this.store,"name","")},id:function(){return Object(K["a"])(this.store,"entity_id","")},filterMyProducts:function(){return this.myProductIDs.length&&this.isMyProductsFiltered?" AND (".concat(this.myProductIDs.map(function(t){return"objectID: ".concat(t)}).join(" OR "),")"):""},filters:function(){return"".concat(this.baseFilter).concat(this.isMyProductsFiltered?"".concat(this.filterMyProducts):"")}}),beforeDestroy:function(){this.setCounts(null)},watch:{isShowFilterModal:function(t){this.$refs.categoryFilterModalWrapperRef.style&&(this.$refs.categoryFilterModalWrapperRef.style.visibility=t?"visible":"hidden")}}},J=Y,X=(r("7577"),r("46d9")),Z=Object(D["a"])(J,d,h,!1,null,"bc629534",null);"function"===typeof X["default"]&&Object(X["default"])(Z);var tt=Z.exports,et=r("4a86"),rt=r("45f9"),it=r("c2c4"),nt=r("7855"),at=r("e94a"),st=r("27b2"),ot=r("b773"),ct=r("1503");function ut(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,i)}return r}function lt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ut(r,!0).forEach(function(e){Object(s["a"])(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ut(r).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var dt={name:"ViewProducts",mixins:[at["a"],st["a"],ot["a"]],components:{DeliveryCurrAddressContainer:l["a"],AisCategoryFilter:tt,DeliveryBarWrapper:rt["a"],FilterAndOptions:et["a"],MyProductPopupWrapper:it["a"],MyProductAndSameAsLastBtns:nt["a"]},props:{path:String,isActiveMyProductButton:{type:Boolean,default:!1}},data:function(){return{store:void 0,isMyProductsFiltered:!1,myProductIDs:[],currSellerType:void 0}},methods:lt({},Object(u["b"])(["getPickupLocations","setNavBarTitle","setSelectedFilterOption","setFilterOptions","toggleModal","getStoreIdURLMap"]),{toggleMyProducts:function(){var t=this.$store.state.customer.is_logged_in;this.toggleShowMorePopup(!1),t?(!this.myProductIDs.length&&this.fetchMyProducts(),this.isMyProductsFiltered=!this.isMyProductsFiltered):this.$store.dispatch("toggleLogin",{params:{isActiveMyProductButton:!0}})},toggleShowMorePopup:function(t){this.toggleModal({modalKey:H["i"],isVisible:t})},fetchMyProducts:function(){var t=Object(a["a"])(regeneratorRuntime.mark(function t(){var e,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=new URLSearchParams,e.append("service","my_products"),e.append("customer_email",this.$store.state.customer.email),e.append("customer_id",this.$store.state.customer.id),e.append("store_id",this.id),t.next=7,c.a.post("/ws.php",e);case 7:r=t.sent,this.myProductIDs=Object.values(Object(K["a"])(r,"data.0",[])).map(function(t){var e=t.entity_id;return e});case 9:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()}),computed:lt({},Object(u["c"])(["getNettoNameByID","fulfillmentMethod"]),{name:function(){return this.store&&this.store.name},id:function(){return this.store&&this.store.entity_id},filterStoreID:function(){return"stores.store_id: ".concat(this.id)},subCategoryName:function(){var t=Object(K["a"])(this.$route,"params.pathMatch");if(!t)return"";var e=t.split("/")[t.split("/").length-1];return e},currentAddress:function(){return this.fulfillmentMethod!==ct["f"].DELIVERY&&this.supportPickupShipment?Object(K["a"])(this.merchant,"restaurant_address"):this.currDeliveryText}}),mounted:function(){var t=Object(a["a"])(regeneratorRuntime.mark(function t(){var e,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getPathData("verslun/".concat(this.path));case 2:e=t.sent,this.getPickupLocations(),r=Object.values(e),this.currSellerType="Groceries"===Object(K["a"])(r,"".concat(r.length-1,".0.view"))?ct["k"].GROCERY:ct["k"].STORE,this.store=e[this.currSellerType===ct["k"].GROCERY?4:3][0],this.setNavBarTitle({en:Object(K["a"])(this.store,"english_name",""),is:Object(K["a"])(this.store,"is_name","")}),this.isActiveMyProductButton&&this.toggleMyProducts();case 9:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),created:function(){var t=Object(a["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getStoreIdURLMap();case 2:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),watch:{store:function(){var t=Object(a["a"])(regeneratorRuntime.mark(function t(){var e,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:e=this.id,r=[{label:this.getNettoNameByID(e),value:e},{label:"*",value:"*"}],this.setFilterOptions(r);case 3:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()}},ht=dt,pt=(r("f7df"),Object(D["a"])(ht,i,n,!1,null,"1d827271",null));e["default"]=pt.exports},"27b2":function(t,e,r){"use strict";r("8e6e"),r("ac6a"),r("456d"),r("7f7f");var i=r("bd86"),n=r("2f62");function a(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,i)}return r}function s(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?a(r,!0).forEach(function(e){Object(i["a"])(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a(r).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}e["a"]={name:"getPathData",methods:s({},Object(n["b"])(["setCurrentStoreId"]),{setStore:function(t){"ViewDeals"===this.$router.history.current.name?this.setCurrentStoreId(null):this.setCurrentStoreId(+t)}}),mounted:function(){var t=this.setStore,e=this.id;t(e)},watch:{id:function(t,e){e!==t&&this.setStore(t)}},destroyed:function(){this.setCurrentStoreId(void 0)}}},3757:function(t,e,r){"use strict";r.r(e);var i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{class:["grid-grocery-item",t.showQuantityControlInMobile&&"grid-grocery-item--show-qty-control-mobile"]},[t.entity_id?r("div",{class:["items-grid__item",t.isOverlayShowing&&"items-grid__item--show-overlay",t.isInGroceriesScreen&&"cursor-pointer"],on:{click:t.showGroceryProductModal}},[r("div",{staticClass:"items-grid__image",on:{click:t.toggleOverlay}},[t.percentDiscount?r("span",{staticClass:"items-grid__item-discount-percent"},[t._v(t._s(t.percentDiscount))]):t._e(),r("div",[r("ImageViewer",{staticClass:"img img-responsive",attrs:{src:t.cloudinaryImage,alt:t.name,loading:"lazy"}})],1),this.quantity?r("div",{staticClass:"items-grid__item-in-cart"},[t._v("\n        "+t._s(this.quantity)+"\n      ")]):t._e(),r("div",{staticClass:"item-grid__image-overlay"},[this.quantity?r("div",{staticClass:"center-center width"},[r("div",{staticClass:"quantity"},[t._v(t._s(this.quantity)+" "+t._s(t.$t("inCart")))]),r("div",{staticClass:"item-grid__overlay-btns-container"},[r("base-button",{staticClass:"primary",attrs:{size:"small"},nativeOn:{click:function(e){return t.handleDecreaseCartQty(e)}}},[r("i",{staticClass:"fa fa-minus"})]),r("base-button",{staticClass:"primary btn--small btn--fit-width",nativeOn:{click:function(e){return t.handleIncreaseCartQty(e)}}},[r("i",{staticClass:"fa fa-plus"}),t._v("\n              "+t._s(t.$t("add"))+"\n            ")])],1)]):r("base-button",{staticClass:"center-center width primary",nativeOn:{click:function(e){return t.handleIncreaseCartQty(e)}}},[t._v(t._s(t.$t("addToCart")))])],1)]),r("div",{staticClass:"items-grid__content"},[r("div",{staticClass:"items-grid__name"},[r("router-link",{attrs:{to:t.urlStripped}},[t._v(t._s(t.translatedName))])],1),r("div",{staticClass:"details"},[r("span",{directives:[{name:"show",rawName:"v-show",value:t.calc_special_price,expression:"calc_special_price"}],staticClass:"special_price"},[t._v(t._s(t._f("formatISK")(t.calc_special_price)))]),r("span",{staticClass:"price"},[t._v(t._s(t._f("formatISK")(t.calc_price)))]),r("span",{staticClass:"unit_text"},[t._v(t._s(t.unit_text))])]),r("QuantityControl",{staticClass:"quantity-control--specific-store",attrs:{updateQuantity:t.updateCartQuantity,quantity:t.quantity}})],1)]):r("div",{staticClass:"items-grid__item"},[r("div",{staticClass:"items-grid__image app-ph"}),r("div",{staticClass:"items-grid__placeholder-text app-ph"})])])},n=[],a=(r("8e6e"),r("ac6a"),r("456d"),r("7f7f"),r("a481"),r("6762"),r("2fdb"),r("bd86")),s=(r("c5f6"),r("82ea")),o=r("e700"),c=r("8685"),u=r("f23c"),l=r("935a"),d=r("2f62"),h=r("c0ea"),p=r("78cc"),f=r("fda7");function m(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,i)}return r}function v(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?m(r,!0).forEach(function(e){Object(a["a"])(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):m(r).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var b={name:"GridGroceryItem",mixins:[c["a"]],components:{BaseButton:s["a"],ImageViewer:o["a"],QuantityControl:h["a"]},props:{name:String,en_name:String,image:{type:String,default:""},entity_id:Number,objectID:String,stores:Array,catname:String,unit_text:String,price:Number,url:String,special_price:[String,Number],ingredients:String,showQuantityControlInMobile:{type:Boolean,default:!1},imgHeight:{type:Number,default:400}},data:function(){return{isOverlayShowing:!1}},computed:v({},Object(d["d"])(["isInGroceriesScreen"]),{imgRelativeURL:function(){return this.image&&this.image.includes("http")?this.image.replace("https://cdn.aha.is/media/catalog/product/",""):this.image},cloudinaryImage:function(){return"no_selection"!==this.image&&this.image?new f["a"](this.imgRelativeURL).height(this.imgHeight).toURL():""},calc_special_price:function(){return this.special_price&&this.special_price!==this.price?this.price:""},calc_price:function(){return this.special_price?parseInt(this.special_price):this.price},percentDiscount:function(){var t=this.calc_special_price,e=this.calc_price;return t?"- "+(100-Math.ceil(100*e/t))+"%":""},urlStripped:function(){return this.url?this.url.replace("https://www.aha.is",""):""},translatedName:function(){return Object(p["a"])({isStr:this.name,enStr:this.en_name})}}),methods:{showGroceryProductModal:function(){var t=this.name,e=this.calc_special_price,r=this.calc_price,i=this.unit_text,n=this.imgRelativeURL,a=this.cartItem,s=this.ingredients;this.isInGroceriesScreen&&this.$store.dispatch("toggleModal",{modalKey:l["k"],isVisible:!0,name:t,unit_text:i,calc_special_price:e,calc_price:r,productImg:n,inCartQty:Object(u["a"])(a,"cart_qty",0),updateCartQuantity:this.updateCartQuantity,ingredients:s})},handleIncreaseCartQty:function(t){t.stopPropagation(),this.increaseCartQty()},handleDecreaseCartQty:function(t){t.stopPropagation(),this.decreaseCartQty()},toggleOverlay:function(t){var e=this;t.stopPropagation(),this.isOverlayShowing=!0,clearTimeout(this.overlayActiveTimer),this.overlayActiveTimer=setTimeout(function(){return e.isOverlayShowing=!1},3e3)}}},g=b,y=(r("4f7d"),r("2877")),_=r("5287"),O=Object(y["a"])(g,i,n,!1,null,"6c2e4e8e",null);"function"===typeof _["default"]&&Object(_["default"])(O);e["default"]=O.exports},"3ea5":function(t,e,r){},"3fb3":function(t,e,r){"use strict";var i=r("8208"),n=r.n(i);n.a},"46d9":function(t,e,r){"use strict";var i=r("acf9"),n=r.n(i);e["default"]=n.a},"4f7d":function(t,e,r){"use strict";var i=r("ce0e"),n=r.n(i);n.a},5287:function(t,e,r){"use strict";var i=r("f37e"),n=r.n(i);e["default"]=n.a},6413:function(t,e,r){"use strict";e["a"]={name:"itemsCountMixin",methods:{showCategory:function(){return this.$store.dispatch("setCounts",this.first.count),this.first.value},showSubCategory:function(){if(0!==this.level)return this.isDeadEnd&&this.$store.dispatch("setCounts",this.first.count),this.first.value;var t=this.items.reduce(function(t,e){return t+e.count},0);this.$store.dispatch("setCounts",t)}}}},73331:function(t,e,r){"use strict";r("ac6a");var i=r("75fc");e["a"]=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Object(i["a"])(Array(Math.floor(t)).keys()).map(function(t){return t+e})}},7577:function(t,e,r){"use strict";var i=r("a94f"),n=r.n(i);n.a},"78cc":function(t,e,r){"use strict";r.d(e,"a",function(){return n});var i=r("9225");function n(t){var e=t.isStr,r=t.enStr,n=t.fallback,a=void 0===n||n,s="en"===i["a"].locale?r:e;return a?s||("en"===i["a"].locale?e:r):s}},8208:function(t,e,r){},a94f:function(t,e,r){},acf9:function(t,e){t.exports=function(t){t.options.__i18n=t.options.__i18n||[],t.options.__i18n.push('{"is":{"showMore":"Sjá fleiri vörur","filter":"Sía","showResults":"Sýna niðurstöður","categories":"Flokkar","resetFilter":"Núllstilla síu"},"en":{"showMore":"Show more items","filter":"Filter","showResults":"Show results","categories":"Categories","resetFilter":"Reset filter"}}'),delete t.options._Ctor}},b773:function(t,e,r){"use strict";r("6762"),r("2fdb"),r("ac6a"),r("8615"),r("96cf");var i=r("3b8d"),n=(r("28a5"),r("bc3a")),a=r.n(n),s=r("1503");e["a"]={name:"merchant",data:function(){return{merchant:void 0,shipments:[]}},props:{existingMerchant:Object},computed:{availablePostCodes:function(){var t=this.merchant.price_by_postcode,e=t.split(",").map(function(t){return t.split(":")[0]});return e},supportPickupShipment:function(){return this.shipments.some(function(t){return t.deal_address===s["h"]})}},methods:{getMerchantInfo:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var e,r,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(this.id){t.next=2;break}return t.abrupt("return");case 2:return e=new URLSearchParams,e.append("service","seller_info"),e.append("id",this.id),e.append("shipments",1),t.next=8,a.a.post("/ws.php",e);case 8:return r=t.sent,i=r.data[0][0],this.merchant=i,this.shipments=Object.values(r.data[1]),t.abrupt("return",i);case 13:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),checkValidPostalCode:function(t){return!!this.availablePostCodes.includes("*")||this.availablePostCodes.includes(t)}},watch:{id:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getMerchantInfo();case 2:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},mounted:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(t.t0=this.merchant||this.existingMerchant,t.t0){t.next=5;break}return t.next=4,this.getMerchantInfo();case 4:t.t0=t.sent;case 5:this.merchant=t.t0;case 6:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()}},c2c4:function(t,e,r){"use strict";var i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{class:["filter-and-options__option-container",t.isShowMorePopupVisible&&"filter-and-options__option-container--show"],on:{click:t.toggleShowMorePopup}},[r("div",{staticClass:"filter-and-options__options",on:{click:function(t){t.stopPropagation()}}},[t._t("default")],2)])},n=[],a=(r("8e6e"),r("ac6a"),r("456d"),r("bd86")),s=r("2f62"),o=r("935a");function c(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,i)}return r}function u(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?c(r,!0).forEach(function(e){Object(a["a"])(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c(r).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var l={name:"MyProductPopupWrapper",computed:u({},Object(s["c"])(["getModalVisibilityState"]),{isShowMorePopupVisible:function(){return this.getModalVisibilityState(o["i"])}}),methods:u({},Object(s["b"])(["toggleModal"]),{toggleShowMorePopup:function(){this.toggleModal({modalKey:o["i"]})}})},d=l,h=(r("3fb3"),r("2877")),p=Object(h["a"])(d,i,n,!1,null,"3eb923f8",null);e["a"]=p.exports},ce0e:function(t,e,r){},e94a:function(t,e,r){"use strict";r("6762"),r("2fdb"),r("96cf");var i=r("3b8d"),n=r("bc3a"),a=r.n(n);e["a"]={name:"getPathData",props:{path:String,initialData:void 0},methods:{getPathData:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var e,r,i,n,s,o=arguments;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(e=o.length>0&&void 0!==o[0]?o[0]:this.path,r=o.length>1&&void 0!==o[1]?o[1]:"pathData",i={service:"url_rewrite",query:r,value:e},e.includes("verslun")&&(i.cache=600),!this.initialData){t.next=6;break}return t.abrupt("return",this.initialData);case 6:return t.next=8,a.a.post("/ws.php",new URLSearchParams(i));case 8:return n=t.sent,s=n.data,t.abrupt("return",s);case 11:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()}}},ec79:function(t,e,r){"use strict";e["a"]={name:"subCategoryCenter",data:function(){return{chipItemActivetimmerId:null}},methods:{scrollToCenterScreen:function(){window.screen.width<768&&(clearTimeout(this.chipItemActivetimmerId),this.chipItemActivetimmerId=setTimeout(function(){var t=document.getElementsByClassName("category-filter__item--selected");t[0]&&t[0].scrollIntoView({behavior:"smooth",inline:"center",block:"center"})},100))}},mounted:function(){window.addEventListener("resize",this.scrollToCenterScreen.bind(this))},updated:function(){this.scrollToCenterScreen()},beforeDestroy:function(){clearTimeout(this.chipItemActivetimmerId),window.removeEventListener("resize",this.scrollToCenterScreen.bind(this))}}},f37e:function(t,e){t.exports=function(t){t.options.__i18n=t.options.__i18n||[],t.options.__i18n.push('{"en":{"inCart":"in cart","add":"Add"},"is":{"inCart":"í körfu","add":"Bæta við"}}'),delete t.options._Ctor}},f6db:function(t,e,r){t.exports=r.p+"img/arrow-left.a41f0987.svg"},f7df:function(t,e,r){"use strict";var i=r("3ea5"),n=r.n(i);n.a},fad7:function(t,e,r){},fda7:function(t,e,r){"use strict";function i(t){return{data:{basePath:"https://images.aha.is/image/upload",imgPath:t||"/b/o/bo_kunarkart.jpg",width:void 0,height:void 0,pad:!1,background:"",dpa:"dpr_auto",trim:"e_trim:10",quality:"q_auto"},width:function(t){return this.data.width=t,this},height:function(t){return this.data.height=t,this},pad:function(t){return this.data.pad=t,this},dpa:function(t){return this.data.dpa=t,this},background:function(t){return this.data.background=t,this},trim:function(t){return this.data.trim=t,this},quality:function(t){return this.data.quality=t,this},toURL:function(){var t=this.data,e=t.basePath,r=t.imgPath,i=t.width,n=t.height,a=t.trim,s=t.quality,o=[i&&"w_".concat(i),n&&"h_".concat(n),s].filter(Boolean);return"".concat(e,"/").concat(a,"/").concat(o.join(","),"/products/").concat(r)}}}r.d(e,"a",function(){return i})}}]);
//# sourceMappingURL=chunk-7ca817ba.a72f46ab.js.map