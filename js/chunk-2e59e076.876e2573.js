(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2e59e076"],{16541:function(t,e,i){"use strict";var n=i("fda0"),r=i.n(n);r.a},"1b9f":function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.isShowModal?i("BaseModal",{staticClass:"cart-popup modal--no-padding",attrs:{isVisible:"",noFooter:"",size:"lg modal-md"},on:{hide:t.hideModal},scopedSlots:t._u([{key:"header",fn:function(){return[t._v(t._s(t.productName))]},proxy:!0}],null,!1,2194837987)},[i("div",{staticClass:"cart-popup__content-container row flex-container no-margin"},[t.imageUrl?i("div",{staticClass:"col-sm-6 flex-item no-padding"},[i("div",{staticClass:"cart-popup__image"},[i("img",{staticClass:"img responsive",attrs:{src:t.imageUrl}})])]):t._e(),i("div",{class:"col-sm-"+(t.imageUrl?6:12)+" flex-item cart-popup__right-panel no-padding"},[i("div",{class:["cart-popup__content",t.isCheckoutScreen&&"cart-popup__content--checkout"]},[i("div",{staticClass:"cart-popup__content-top"},[i("h2",{staticClass:"section-title"},[t._v(t._s(t.productName))]),t.error?i("div",{staticClass:"alert alert-warning"},[t._v("\n            "+t._s(t.$t("errorMsg"))+"\n          ")]):t._e(),i("div",{staticClass:"cart-popup__content-top__inner"},[t.description?i("p",{domProps:{innerHTML:t._s(t.description)}}):t._e(),t._t("default")],2)]),i("div",{staticClass:"cart-popup__content-bottom"},[i("QuantityControl",{staticClass:"qty noselect cart-popup__qty-control",attrs:{updateQuantity:t.updateQty,quantity:t.quantity,disabled:t.disableQuantity,isInModal:"",min:1}}),i("button",{staticClass:"btn btn--green btn--rounded-green",attrs:{disabled:t.addingToCart},on:{click:t.addToCart}},[t.addingToCart?i("i",{staticClass:"fa fa-spinner fa-spin"}):t._e(),t._v(" Â \n            "+t._s(t.$t("addToCart"))+"\n            "),i("span",[t._v(t._s(t.totalPrice))])])],1)])])])]):t._e()},r=[],o=i("c0ea"),s=i("c1ec"),a={name:"AddToCartPreviewModalRepresentation",props:{isShowModal:Boolean,hideModal:Function,imageUrl:void 0,productName:String,error:void 0,description:String,updateQty:Function,quantity:void 0,disableQuantity:void 0,addToCart:Function,addingToCart:void 0,totalPrice:String},components:{QuantityControl:o["a"],BaseModal:s["a"]},computed:{isCheckoutScreen:function(){return"/checkout"===this.$route.path}}},c=a,u=(i("5d99"),i("2877")),p=i("6533"),l=Object(u["a"])(c,n,r,!1,null,"354522c5",null);"function"===typeof p["default"]&&Object(p["default"])(l);e["a"]=l.exports},3122:function(t,e,i){},"3183f":function(t,e,i){"use strict";var n=i("b1ac"),r=i.n(n);e["default"]=r.a},"3cc9":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.isShowModal?i("AddToCartPreviewModalRepresentation",{attrs:{isShowModal:t.isShowModal,hideModal:t.closeAndReloadCart,imageUrl:t.imageUrl,productName:t.productOptions.request.product_name,error:t.error,description:t.productOptions.request.product_short_description,updateQty:t.updateQty,quantity:t.quantity,disableQuantity:t.productOptions.hide_custom_option_qty,addToCart:t.onAddToCart,addingToCart:t.adding,totalPrice:t._f("formatISK")(t.totalPrice())}},t._l(t.productOptions.options,function(e){return i("Field"+e.type[0].toUpperCase()+e.type.slice(1),t._b({key:e.option_id,tag:"component",attrs:{selected:t.selected,itemClass:"list-item",isSubmitted:t.isSubmitted},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}},"component",e,!1))}),1):t._e()},r=[],o=(i("8e6e"),i("768b")),s=(i("ffc1"),i("456d"),i("6762"),i("2fdb"),i("ac6a"),i("8615"),i("a481"),i("f559"),i("bd86")),a=i("2f62"),c=i("8685"),u=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("fieldset",[i("h4",[t._v(t._s(t.default_title))]),i("ul",{staticClass:"row"},t._l(t.values,function(e){return i("li",{key:e.option_type_id,class:t.itemClass},[i("label",{staticClass:"field-radio__label",attrs:{for:"option-"+e.option_id+"-"+e.option_type_id}},[i("div",{class:t.type+"-design"},[i("input",{attrs:{type:t.type,name:"option-"+t.option_id,id:"option-"+e.option_id+"-"+e.option_type_id,required:t.is_require},domProps:{value:parseInt(e.option_type_id)},on:{input:function(e){return t.update(t.option_id,e.target.value)}}}),i("span",{staticClass:"checkmark"}),t._v("\n          "+t._s(e.default_title)+"\n          "),i("span",[t._v(t._s(t.optionPrice(e.price)))])])])])}),0),t.isSubmitted&&t.showError?i("span",{staticClass:"error error-danger"},[t._v(t._s(t.$t("requireOption",{error:'"'+t.default_title+'"'})))]):t._e()])},p=[],l={name:"productOptionMixin",data:function(){return{showError:!1}},methods:{handleError:function(){"0"!==this.is_require&&(this.showError=this.selected[this.option_id]instanceof Array?0===this.selected[this.option_id].length:!this.selected[this.option_id])}},mounted:function(){this.handleError()},watch:{selected:function(){this.handleError()}}};function d(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)}return i}function f(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?d(i,!0).forEach(function(e){Object(s["a"])(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):d(i).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}var _={name:"FieldRadio",mixins:[l],methods:{update:function(t,e){this.$emit("input",f({},this.selected,Object(s["a"])({},t,e)))},optionPrice:function(t){return"0.0000"!==t?"+".concat(this.$options.filters.formatISK(parseInt(t))):""}},props:["type","default_title","values","option_id","is_require","selected","itemClass","isSubmitted"]},h=_,b=(i("16541"),i("2877")),O=Object(b["a"])(h,u,p,!1,null,"d97362ec",null),m=O.exports,v=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("fieldset",[i("h4",[t._v(t._s(t.default_title))]),i("ul",{staticClass:"row"},t._l(t.values,function(e){return i("li",{key:e.option_type_id,class:t.itemClass},[i("label",{staticClass:"field-check-box__label",attrs:{for:"option-"+e.option_id+"-"+e.option_type_id}},[i("div",{class:t.type+"-design"},[i("input",{attrs:{type:t.type,name:"option-"+t.option_id,id:"option-"+e.option_id+"-"+e.option_type_id,required:t.is_require},domProps:{value:parseInt(e.option_type_id)},on:{input:function(e){return t.update(t.option_id,e.target.value)}}}),i("span",{staticClass:"checkmark"}),t._v("\n          "+t._s(e.default_title)+"\n          "),i("span",[t._v(t._s(t.optionPrice(e.price)))])])])])}),0),t.isSubmitted&&t.showError?i("span",{staticClass:"error error-danger"},[t._v(t._s(t.$t("requireOption",{error:'"'+t.default_title+'"'})))]):t._e()])},y=[];function g(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)}return i}function j(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?g(i,!0).forEach(function(e){Object(s["a"])(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):g(i).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}var w={name:"FieldCheckbox",mixins:[l],methods:{update:function(t,e){t in this.selected?this.selected[t].includes(e)?this.$emit("input",j({},this.selected,Object(s["a"])({},t,this.selected[t].filter(function(t){return t!==e})))):(this.selected[t].push(e),this.$emit("input",this.selected)):this.$emit("input",j({},this.selected,Object(s["a"])({},t,[e]))),this.handleError()},optionPrice:function(t){return"0.0000"!==t?"+".concat(this.$options.filters.formatISK(parseInt(t))):""}},props:["type","default_title","values","option_id","is_require","selected","itemClass","isSubmitted"]},P=w,C=(i("6c7f"),Object(b["a"])(P,v,y,!1,null,"1a0f96e9",null)),S=C.exports,q=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("fieldset",[i("h4",[t._v(t._s(t.default_title))]),i("Select",{staticClass:"field-drop-down__select",attrs:{options:t.options,selectedOption:t.selectedOption||t.defaultOption,onSelectOption:t.onSelectOption}}),t.isSubmitted&&t.showError?i("span",{staticClass:"error error-danger"},[t._v(t._s(t.$t("requireOption",{error:'"'+t.default_title+'"'})))]):t._e()],1)},k=[],E=i("75fc"),M=i("42de");function D(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)}return i}function x(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?D(i,!0).forEach(function(e){Object(s["a"])(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):D(i).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}var $={name:"FieldDrop_down",components:{Select:M["a"]},mixins:[l],data:function(){return{selectedOption:void 0}},methods:{onSelectOption:function(t){var e=this.update,i=this.option_id;this.selectedOption=t,e(i,t.value)},update:function(t,e){this.$emit("input",x({},this.selected,Object(s["a"])({},t,e)))}},props:["type","default_title","values","option_id","is_require","selected","isSubmitted"],computed:{defaultOption:function(){return{label:this.$t("select"),value:""}},options:function(){return[this.defaultOption].concat(Object(E["a"])(this.values.map(function(t){var e=t.default_title,i=t.option_type_id;return{label:e,value:i}})))}}},F=$,T=(i("e507"),i("3183f")),A=Object(b["a"])(F,q,k,!1,null,"5854ea50",null);"function"===typeof T["default"]&&Object(T["default"])(A);var I=A.exports,Q=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("fieldset",{directives:[{name:"show",rawName:"v-show",value:t.showBaseDependent,expression:"showBaseDependent"}]},[i("h4",[t._v(t._s(t.default_title))]),i("div",{class:t.type+"-design"},[i("input",{staticClass:"app-input",attrs:{name:"option-"+t.option_id,required:t.is_require},on:{input:function(e){return t.update(t.option_id,e.target.value)}}})]),t.isSubmitted&&t.showError?i("span",{staticClass:"error error-danger"},[t._v(t._s(t.$t("requireOption",{error:'"'+t.default_title+'"'})))]):t._e()])},R=[];function U(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)}return i}function B(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?U(i,!0).forEach(function(e){Object(s["a"])(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):U(i).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}var N={name:"FieldField",mixins:[l],computed:B({},Object(a["c"])(["productOptions"]),{showBaseDependent:function(){if("/checkout"!==this.$route.path)return!0;var t=this.productOptions.options,e=Object.keys(t).map(function(e){if("drop_down"===t[e].type)return B({},t[e])}).filter(function(t){return t})[0];return!e||!!this.selected[e.option_id]}}),methods:{update:function(t,e){this.$emit("input",B({},this.selected,Object(s["a"])({},t,e)))}},props:["type","default_title","values","option_id","is_require","selected","isSubmitted"]},K=N,V=(i("49ec"),Object(b["a"])(K,Q,R,!1,null,"4b00c5f7",null)),W=V.exports,J=i("1b9f"),z=i("935a"),H=i("f23c");function L(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)}return i}function G(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?L(i,!0).forEach(function(e){Object(s["a"])(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):L(i).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}var X={name:"TheProductOptionsModal",mixins:[c["a"]],components:{FieldRadio:m,FieldCheckbox:S,FieldDrop_down:I,FieldField:W,AddToCartPreviewModalRepresentation:J["a"]},data:function(){return{selected:{},quantity:1,usingCustomNotification:!1,isSubmitted:!1}},computed:G({},Object(a["c"])(["productOptions"]),{isShowModal:function(){return!!Object(H["a"])(this.productOptions,"options")},imageUrl:function(){var t=Object(H["a"])(this.productOptions,"request.product_image");return!(!t||"no_selection"===t)&&(-1===t.indexOf("https://")?"https://images.aha.is/image/upload/products/"+t:"https://cdn.aha.is/media/catalog/product/"===t.startsWith?"https://images.aha.is/image/upload/products/"+t.replace("https://cdn.aha.is/media/catalog/product/",""):t)},options_price:function(){var t=Object.values(this.productOptions.options);return Object.keys(t[0]).includes("values")?(t=t.flatMap(function(t){return t.values}),Object.values(this.selected).flat().flatMap(function(e){return t.filter(function(t){return t}).filter(function(t){var i=t.option_type_id;return i===e})}).reduce(function(t,e){var i=e.price;return t+parseInt(i)},0)*(this.quantity||1)):parseInt(t[0]["default_price"])}}),methods:G({},Object(a["b"])(["loadCart","toggleModal"]),{closeAndReloadCart:function(){var t=this.close,e=this.loadCart;t(),e(),this.isSubmitted=!1},close:function(){this.selected={},this.quantity=1,this.error=!1,this.toggleModal({modalKey:z["l"],isVisible:!1,options:{}})},onAddToCart:function(){if(this.isSubmitted=!0,this.isAllRequiredOptionsFilled(),this.isAllRequiredOptionsFilled())return this.addToCart()},totalPrice:function(){return this.total+this.options_price},isAllRequiredOptionsFilled:function(){var t=this.productOptions,e=this.selected;if(t.options){var i=Object.entries(t.options),n=i.filter(function(t){var e=Object(o["a"])(t,2),i=(e[0],e[1]);return"1"===i.is_require}).map(function(t){var e=Object(o["a"])(t,1),i=e[0];return i});return!n.length||n.every(function(t){return e[t]})}}}),mounted:function(){this.quantity=1},destroyed:function(){this.isSubmitted=!1}},Y=X,Z=(i("a503"),Object(b["a"])(Y,n,r,!1,null,"a0289a84",null));e["default"]=Z.exports},"49ec":function(t,e,i){"use strict";var n=i("3122"),r=i.n(n);r.a},5357:function(t,e,i){},"5d99":function(t,e,i){"use strict";var n=i("5357"),r=i.n(n);r.a},6124:function(t,e,i){},6533:function(t,e,i){"use strict";var n=i("daf5"),r=i.n(n);e["default"]=r.a},"6c7f":function(t,e,i){"use strict";var n=i("c5a7"),r=i.n(n);r.a},a503:function(t,e,i){"use strict";var n=i("6124"),r=i.n(n);r.a},b1ac:function(t,e){t.exports=function(t){t.options.__i18n=t.options.__i18n||[],t.options.__i18n.push('{"is":{"select":"Veldu"},"en":{"select":"Select"}}'),delete t.options._Ctor}},c5a7:function(t,e,i){},daf5:function(t,e){t.exports=function(t){t.options.__i18n=t.options.__i18n||[],t.options.__i18n.push('{"is":{"errorMsg":"Please select product options."},"en":{"errorMsg":"Please select product options."}}'),delete t.options._Ctor}},e507:function(t,e,i){"use strict";var n=i("f3bc"),r=i.n(n);r.a},f3bc:function(t,e,i){},f559:function(t,e,i){"use strict";var n=i("5ca1"),r=i("9def"),o=i("d2c8"),s="startsWith",a=""[s];n(n.P+n.F*i("5147")(s),"String",{startsWith:function(t){var e=o(this,t,s),i=r(Math.min(arguments.length>1?arguments[1]:void 0,e.length)),n=String(t);return a?a.call(e,n,i):e.slice(i,i+n.length)===n}})},fda0:function(t,e,i){},ffc1:function(t,e,i){var n=i("5ca1"),r=i("504c")(!0);n(n.S,"Object",{entries:function(t){return r(t)}})}}]);
//# sourceMappingURL=chunk-2e59e076.876e2573.js.map